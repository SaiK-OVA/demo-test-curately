import{al as C,r as u,k as e,O as m,S as b,T as w,bV as I,L as N,B as h,l as P,W as x,A as g,V as f}from"./DAuuuMsE.js";import{M}from"./Ez4yizbq.js";import{S as z}from"./68QKccnG.js";import{D as l,A as T}from"./Cg41riQw.js";import{C as F}from"./B7IUApoB.js";import{L as k,D as A}from"./BZPAOVTJ.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./BestnZaX.js";import"./w5-nO31Y.js";import"./D2Y9uqkR.js";import"./DVyrZ3Lu.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./DbsmdDnd.js";import"./DistCVVm.js";import"./BqtMM88J.js";import"./C4JXEfII.js";import"./Dsukr_f2.js";import"./OPHguh9D.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./Br0xRRVu.js";import"./C_IKUwSv.js";import"./JyAhcbJl.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";import"./IOI02mfF.js";const fe=()=>{const{sequenceType:d}=C(),[c,y]=u.useState([]),[i,D]=u.useState(l.now()),[s,p]=u.useState(l.now()),[S,L]=u.useState(!1),[n,v]=u.useState({pageIndex:0,pageSize:25}),E=u.useMemo(()=>{const t=n.pageIndex*n.pageSize,a=t+n.pageSize;return c.slice(t,a)},[c,n.pageIndex,n.pageSize]),q=[{accessorKey:"AuditlogID",header:"ID",size:80},{accessorKey:"fullName",header:"Candidate Name",Cell:({renderedCellValue:t,row:a})=>e.jsxDEV("span",{children:a.original.fullName},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:92,columnNumber:17},void 0)},{accessorKey:"CreatedDate",header:"Created Date",Cell:({renderedCellValue:t,row:a})=>e.jsxDEV("span",{children:l.fromSQL(a.original.CreatedDate.substring(0,10)).toFormat("MM/dd/yyyy")},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:104,columnNumber:17},void 0)},{accessorKey:"Description",header:"Description"},{accessorKey:"SequenceName",header:"Campaign Name"},{accessorKey:"StageNumber",header:"Stage Number"}],V=()=>{if(i&&s&&i.startOf("day")<=s.startOf("day")){let t={startDate:i.toFormat("yyyy-MM-dd"),endDate:s.toFormat("yyyy-MM-dd"),clientId:N.getvalue("clientId")};d==="candidate"?x(g.postWithData("admin","getAuditLog",t).then(a=>{if(L(!0),a.data.Status&&a.data.Status===200){let o=[...a.data.AuditLogList];for(let r=0;r<o.length;r++)o[r].id=r+1,o[r].actions="";y(o.reverse())}})):d==="contact"&&x(g.postWithData("admin","getSequenceContactAuditLog",t).then(a=>{if(L(!0),a.data.Status&&a.data.Status===200){let o=[...a.data.AuditLogList];for(let r=0;r<o.length;r++)o[r].id=r+1,o[r].actions="";y(o.reverse())}}))}else i?s?i.startOf("day")>s.startOf("day")&&f("Start Date should be less than End Date.","error"):f("Enter Valid End Date.","error"):f("Enter Valid Start Date.","error")},j=t=>{g.saveAuditLog(t)};return e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"",id:"auditLog",children:e.jsxDEV("div",{className:"",children:[e.jsxDEV(m,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard px-4 py-2 mb-2",sx:{minHeight:"auto !important"},children:[e.jsxDEV(b,{direction:"row",spacing:3,children:e.jsxDEV(w,{variant:"h6",className:"header, pt-1",children:" Audit Log "},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:214,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:213,columnNumber:21},void 0),e.jsxDEV("div",{className:"d-flex",children:e.jsxDEV(I,{to:`/${N.getvalue("clientName")}/letter/campaigns/${d}/list`,className:"btn btn-primary ml-2 c-white underlineNone",children:e.jsxDEV(h,{variant:"outlined",color:"secondary",size:"small",children:"Back to List"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:220,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:219,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:217,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:205,columnNumber:17},void 0),e.jsxDEV(m,{className:"my-3 customCard ",container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(b,{direction:"row",spacing:3,children:e.jsxDEV(k,{dateAdapter:T,children:e.jsxDEV(m,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(A,{label:"Start Date",value:i,onChange:t=>{D(t||l.now())},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:s},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:245,columnNumber:33},void 0),e.jsxDEV(P,{sx:{mx:2},children:" to "},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:271,columnNumber:33},void 0),e.jsxDEV(A,{label:"End Date",value:s,onChange:t=>{p(t||l.now())},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:l.now()},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:272,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:239,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:238,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:237,columnNumber:21},void 0),e.jsxDEV(h,{variant:"contained",color:"primary",className:"ml-4",fullWidth:!0,onClick:()=>{V(),j(4196)},children:"Get Data"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:302,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:230,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 customCard CardView",children:e.jsxDEV("div",{className:"MRTableCustom pl-0 ",children:S?e.jsxDEV(M,{columns:q,data:E,enablePinning:!0,initialState:{columnPinning:{left:["mrt-row-select"]},density:"compact",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!1,enableGlobalFilterModes:!0,columnResizeMode:"onChange",getRowId:t=>t.sequence_id,enableStickyHeader:!0,enablePagination:!1,renderBottomToolbarCustomActions:()=>e.jsxDEV(F,{page:n.pageIndex,rowsPerPage:25,rowCount:c.length,onChangePage:t=>v({...n,pageIndex:t,pageSize:25})},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:333,columnNumber:41},void 0),icons:{ArrowDownwardIcon:t=>e.jsxDEV(z,{...t},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:348,columnNumber:45},void 0)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:312,columnNumber:33},void 0):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:308,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:306,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:204,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:203,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Sequence/AuditLog/AuditLog.tsx",lineNumber:202,columnNumber:12},void 0)};export{fe as default};
