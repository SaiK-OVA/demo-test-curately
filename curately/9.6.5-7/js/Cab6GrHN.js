import{r as s,k as e,O as i,S as B,T as Q,l as X,B as O,L as V,W as k,A as M,V as y}from"./DAuuuMsE.js";import{M as Y}from"./Ez4yizbq.js";import{C as Z}from"./B7IUApoB.js";import{S as _}from"./68QKccnG.js";import{A as $,D as ee}from"./Cg41riQw.js";import{C as te}from"./DLCWg8U-.js";import{F as re}from"./3Gqd8Nje.js";import{T as ae,C as le}from"./BestnZaX.js";import{L as se,D as A}from"./BZPAOVTJ.js";import{I as z}from"./BqtMM88J.js";import{C as oe}from"./9WUULBRn.js";import{S as ne}from"./B2qHeyhM.js";import{T as ue}from"./DbsmdDnd.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./D2Y9uqkR.js";import"./DVyrZ3Lu.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./C4JXEfII.js";import"./DistCVVm.js";import"./Dsukr_f2.js";import"./w5-nO31Y.js";import"./OPHguh9D.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./Br0xRRVu.js";import"./C_IKUwSv.js";import"./JyAhcbJl.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";import"./IOI02mfF.js";const ie=({candidateData:r})=>{var T,c,g,u,E,d;const[b,n]=s.useState((T=r==null?void 0:r.candidates)!=null&&T.data?(c=r==null?void 0:r.candidates)==null?void 0:c.data:[]),[N,w]=s.useState((g=r==null?void 0:r.jobOrders)!=null&&g.data?(u=r==null?void 0:r.jobOrders)==null?void 0:u.data:[]);return e.jsxDEV(i,{container:!0,spacing:2,sx:{margin:"auto",gridTemplateColumns:"1fr 1fr",width:"100%",border:"2px "},id:"ExpandTearSheet",children:e.jsxDEV("div",{className:"grid-container",children:[e.jsxDEV("div",{className:"grid-item",children:((E=r==null?void 0:r.candidates)==null?void 0:E.total)>0&&e.jsxDEV(i,{container:!0,size:12,className:"mr-4 ",children:[e.jsxDEV(i,{size:12,className:"m-2 ",textAlign:"center",children:"Candidate's Full Name"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:29,columnNumber:25},void 0),e.jsxDEV("ul",{id:"myUL",children:b&&b.map((f,p)=>e.jsxDEV("li",{children:e.jsxDEV("span",{className:"px-2",children:[" ",f.firstName+" "+f.lastName]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:34,columnNumber:41},void 0)},p,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:33,columnNumber:37},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:30,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:28,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:26,columnNumber:13},void 0),e.jsxDEV("div",{className:"grid-item",children:((d=r==null?void 0:r.jobOrders)==null?void 0:d.total)>0&&e.jsxDEV(i,{container:!0,size:12,className:"mr-4 ",children:[e.jsxDEV(i,{size:12,className:"m-2 ",textAlign:"center",children:"Job Titles"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:45,columnNumber:25},void 0),e.jsxDEV("ul",{id:"myUL1",children:N&&N.map((f,p)=>e.jsxDEV("li",{children:e.jsxDEV("span",{className:"px-2",children:[" ",f.title]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:50,columnNumber:41},void 0)},p,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:49,columnNumber:37},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:46,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:44,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:42,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:25,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/ExpandTearSheet.tsx",lineNumber:16,columnNumber:12},void 0)},Ge=()=>{const[r,b]=s.useState(),[n,N]=s.useState(),[w,T]=s.useState(!1),[c,g]=s.useState(""),[u,E]=s.useState([]),[d,f]=s.useState(""),[p,I]=s.useState(!1),[v,S]=s.useState({}),[F,L]=s.useState(0),[R,W]=s.useState([]),[K,G]=s.useState(),[m,j]=s.useState({pageIndex:0,pageSize:10}),J=[{accessorKey:"name",header:"Talent Pool Name"},{accessorKey:"candidates.total",header:"Candidates"},{accessorKey:"jobOrders.total",header:"Job Orders"},{accessorKey:"dateLastModified",header:"Date",Cell:({row:t})=>re.formatMillisecondsToCustomDate(+t.original.dateLastModified)},{accessorKey:"curatelyId",header:"Curately",Cell:({row:t})=>t.original.curatelyId?e.jsxDEV(ue,{title:"Curately Id",children:e.jsxDEV("span",{className:"ml-4",children:t.original.curatelyId?e.jsxDEV(te,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:84,columnNumber:54},void 0):""},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:83,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:82,columnNumber:45},void 0):"",size:80}],H=s.useMemo(()=>(u==null?void 0:u.filter(t=>t.name.toLowerCase().includes(d.toLowerCase()||"")))??[],[d,u]),C=()=>{if(c||r&&n&&r.startOf("day")<=n.startOf("day")){let t={entityName:"Tearsheet",clientId:V.getvalue("clientId"),tearsheet:{name:c,dateAdded:r?r.toFormat("yyyyMMdd"):"",dateLastModified:n?n.toFormat("yyyyMMdd"):""},count:m.pageSize,sort:"-dateLastModified",start:m.pageIndex*m.pageSize,fields:"id,name,candidates,jobOrders,dateLastModified"};k(M.postWithData("ats","bullhorn/search",t).then(a=>{var l,o,h,x,D,P;T(!0),(l=a.data)!=null&&l.Success&&((o=a.data)==null?void 0:o.Status)===200?(L(Number((x=(h=a.data)==null?void 0:h.data)!=null&&x.total?(P=(D=a.data)==null?void 0:D.data)==null?void 0:P.total:0)),E(a.data.data.data)):y(a.data.Message?a.data.Message:"An error occured while getting this Talent Pool Name.","error")}))}else c?r?n?r.startOf("day")>n.startOf("day")&&y("Start Date should be less than End Date.","error"):y("Enter Valid End Date.","error"):y("Enter Valid Start Date.","error"):y("Enter Valid Talent Name.","error")},U=()=>{const t=Object.keys(v);let a={atsName:"Bullhorn",clientId:V.getvalue("clientId"),recruiterId:V.getvalue("recrId"),moduleName:"Pool",atsValues:t};k(M.postWithData("ats","ats/consume",a).then(l=>{var o,h;(o=l.data)!=null&&o.Success&&((h=l.data)==null?void 0:h.Status)===200?(y(l.data.Message,"success"),S({}),I(!1),C()):y(l.data.Message?l.data.Message:"An error occured while getting this Push to Curately.","error")}))};s.useEffect(()=>{(c||r&&n&&r.startOf("day")<=n.startOf("day"))&&C()},[m.pageIndex,m.pageSize]);const q=async t=>{if(I(t.target.checked),t.target.checked){let a={},l=u;for(let o=0;o<u.length;o++)a[l[o].id]=!0;S(a)}else S({})};return e.jsxDEV("div",{className:"",id:"TearSheet",children:e.jsxDEV("div",{className:"",children:[e.jsxDEV(i,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard px-4 py-2 mb-2",sx:{minHeight:"auto !important"},children:e.jsxDEV(B,{direction:"row",spacing:3,children:e.jsxDEV(Q,{variant:"h6",className:"header, pt-1",children:"Bullhorn Tear Sheet"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:216,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:215,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:207,columnNumber:17},void 0),e.jsxDEV(i,{className:"my-3 customCard ",container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(B,{direction:"row",spacing:3,style:{paddingRight:"22px"},children:e.jsxDEV(ae,{fullWidth:!0,label:"Talent Pool Name",size:"small",placeholder:"Search by Talent Pool Name",value:c,onChange:t=>g(t.target.value)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:230,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:229,columnNumber:21},void 0),e.jsxDEV(B,{direction:"row",spacing:3,children:e.jsxDEV(se,{dateAdapter:$,children:e.jsxDEV(i,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(A,{label:"Start Date",value:r,onChange:t=>{b(t||"")},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:n},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:248,columnNumber:33},void 0),e.jsxDEV(X,{sx:{mx:2},children:" to "},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:272,columnNumber:33},void 0),e.jsxDEV(A,{label:"End Date",value:n,onChange:t=>{N(t||"")},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:ee.now()},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:273,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:242,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:241,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:240,columnNumber:21},void 0),e.jsxDEV(O,{variant:"contained",color:"primary",className:"ml-4",fullWidth:!0,onClick:()=>{j({pageIndex:0,pageSize:10}),C()},children:"Search"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:301,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:222,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 customCard CardView",children:w?e.jsxDEV("div",{className:"MRTableCustom pl-0 ",children:[e.jsxDEV(i,{container:!0,className:"actionItems",width:"auto",children:[e.jsxDEV(le,{className:"select-all-checkbox",disableRipple:!0,color:"default",checked:p,onChange:q},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:324,columnNumber:29},void 0),e.jsxDEV(O,{variant:"outlined",color:"secondary",className:"mr-2 ml-2",disabled:!(Object.keys(v).length>0),onClick:()=>U(),children:"Push to Curately"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:332,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:323,columnNumber:25},void 0),e.jsxDEV(Y,{columns:J,enableRowSelection:!0,data:H,enablePinning:!0,muiSearchTextFieldProps:{placeholder:"Search",sx:{width:"205px",right:"50px",padding:"-10px",height:"20px",marginTop:"-10px",marginRight:"-40px"},value:d,onChange:t=>{f(t.target.value)},InputProps:{startAdornment:e.jsxDEV(z,{position:"start",children:e.jsxDEV(ne,{fontSize:"small",htmlColor:"#757575"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:354,columnNumber:86},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:354,columnNumber:53},void 0),endAdornment:e.jsxDEV(z,{position:"end",disablePointerEvents:!d,children:e.jsxDEV(oe,{fontSize:"small",htmlColor:d?"#757575":"#ebebeb",sx:{cursor:"pointer"},onClick:()=>f("")},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:356,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:355,columnNumber:51},void 0)}},initialState:{density:"compact",showGlobalFilter:!0},onColumnFiltersChange:W,onGlobalFilterChange:G,enableDensityToggle:!1,enableFullScreenToggle:!1,columnResizeMode:"onChange",getRowId:t=>t.id,onPaginationChange:j,state:{columnFilters:R,globalFilter:K,rowSelection:v},onRowSelectionChange:S,enableStickyHeader:!0,enablePagination:!1,muiSelectCheckboxProps:t=>({onChange:a=>{if(t.row.id){let l={...v};a.target.checked?l[t.row.id]=a.target.checked:l.hasOwnProperty(t.row.id)&&delete l[t.row.id],S(l)}}}),positionExpandColumn:"last",renderDetailPanel:({row:t})=>{var a,l,o,h,x,D;if((o=(l=(a=t.original)==null?void 0:a.candidates)==null?void 0:l.data)!=null&&o.length||(D=(x=(h=t.original)==null?void 0:h.jobOrders)==null?void 0:x.data)!=null&&D.length)return e.jsxDEV(ie,{candidateData:t.original},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:409,columnNumber:44},void 0)},renderBottomToolbarCustomActions:()=>e.jsxDEV(Z,{page:m.pageIndex,rowsPerPage:m.pageSize,rowCount:F,onChangePage:t=>j({...m,pageIndex:t,pageSize:10})},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:415,columnNumber:33},void 0),icons:{ArrowDownwardIcon:t=>e.jsxDEV(_,{...t},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:430,columnNumber:37},void 0)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:343,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:321,columnNumber:33},void 0):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:319,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:206,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Bullhorn/TearSheet/TearSheet.tsx",lineNumber:205,columnNumber:9},void 0)};export{Ge as default};
