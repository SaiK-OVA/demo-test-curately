import{e as w,j as T,r as l,k as e,O as m,C as A,B as D,L as s,W as p,A as b,V as i,T as P,S as k}from"./DAuuuMsE.js";import{M as L}from"./Ez4yizbq.js";import{C as z}from"./DPbXZZOB.js";import{A as $}from"./BreDWgEm.js";import{u as W}from"./DlTMcna4.js";import{V as B}from"./DwmmMyHW.js";import{D as H}from"./Br0xRRVu.js";import{A as K}from"./DA-mmMmo.js";import{C as F}from"./DistCVVm.js";import{T as x}from"./BestnZaX.js";import{L as O}from"./QwUMPYgi.js";import{S as G}from"./68QKccnG.js";import{P as _}from"./DgjxHwfk.js";import{D as q}from"./DFpDws4A.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./D2Y9uqkR.js";import"./BZPAOVTJ.js";import"./w5-nO31Y.js";import"./OPHguh9D.js";import"./BqtMM88J.js";import"./DVyrZ3Lu.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./DbsmdDnd.js";import"./C4JXEfII.js";import"./Dsukr_f2.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./C_IKUwSv.js";import"./JyAhcbJl.js";import"./XBS2c42B.js";import"./Cg41riQw.js";import"./IOI02mfF.js";const J=w(T.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"InsertLink"),Q=({closeInvitePopup:y})=>{const[n,o]=l.useState([]),[u,d]=l.useState(""),[t,c]=l.useState(!1),[R,N]=l.useState(""),v=a=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),h=async a=>{try{await W.validate(a),d(""),N(""),S(a)}catch(r){r instanceof B&&N(r.message||"Invalid email format")}},E=a=>{o(n.filter(r=>r!==a))},S=a=>{c(!0),b.postWithData("admin","referralRecrAvailability",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),email:a}).then(r=>{console.log(r.data),r.data.Success?M(a):i(r.data.Message?r.data.Message:"An error occured while validating the email.","error")})},M=async a=>{try{(await $.validateWorkEmail(a)).data.debounce.free_email==="false"?o([...n,a]):i("Please Enter Work Email.","error")}catch(r){return console.error("Error validating email:",r),!1}c(!1)},j=(a,r)=>{d(r),v(r)?g([r]):g([])},[I,g]=l.useState([]),V=()=>{n.length?p(b.postWithData("admin","sendRefferalEmail",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),emailIds:n}).then(a=>{console.log(a.data),a.data.Success?(o([]),i("Referral sent successfully.","success"),y(!0)):i(a.data.Message?a.data.Message:"An error occured while Referring.","error")})):i("Please enter emails to Refer","error")};return e.jsxDEV("div",{id:"ReferMembers",children:[e.jsxDEV(H,{children:e.jsxDEV(m,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:e.jsxDEV("span",{className:"addHeader",children:"Refer & Get 10 Credits"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:131,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:130,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV("div",{className:"refer-wrapper",children:[e.jsxDEV("p",{className:"refer-info",children:"Redeem your credits by subscribing to paid plan with advanced features & instant discount."},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:137,columnNumber:17},void 0),e.jsxDEV("div",{className:"input-wrapper",children:[e.jsxDEV(K,{multiple:!0,freeSolo:!0,value:n,onChange:(a,r)=>{if(r.length>n.length){const f=r[r.length-1];h(f)}else o(r)},options:I,inputValue:u,onInputChange:j,renderInput:a=>e.jsxDEV(x,{...a,label:"Add people using their emails",variant:"outlined",error:!!R,helperText:R,onKeyDown:r=>{r.key==="Enter"&&u&&(r.preventDefault(),h(u))}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:154,columnNumber:29},void 0),renderTags:(a,r)=>a.map((f,C)=>e.jsxDEV(F,{variant:"outlined",label:f,...r({index:C}),onDelete:()=>E(f)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:166,columnNumber:29},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:140,columnNumber:21},void 0),t&&e.jsxDEV(A,{className:"loaderIcon",size:20},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:169,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:139,columnNumber:17},void 0),e.jsxDEV(D,{color:"primary",variant:"contained",onClick:V,disabled:!n.length,className:"ml-3 my-3",children:"Refer people"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:172,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:136,columnNumber:13},void 0),e.jsxDEV(m,{className:"my-4 px-5 mx-4 pb-4",container:!0,size:12,children:[e.jsxDEV(m,{size:"auto",sx:{width:"calc(100% - 115px)"},children:e.jsxDEV(x,{variant:"outlined",disabled:!0,fullWidth:!0,size:"small",value:`${window.location.origin}${window.location.pathname}#/signin?referral=${s.getvalue("referralCode")}`},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:178,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:177,columnNumber:17},void 0),e.jsxDEV(m,{size:"auto",sx:{width:"75px"},children:e.jsxDEV(D,{variant:"outlined",size:"small",startIcon:e.jsxDEV(J,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:187,columnNumber:72},void 0),className:"cursor-pointer fs-16 ml-2",onClick:a=>{a.stopPropagation(),z.text(`${window.location.origin}${window.location.pathname}#/signin?referral=${s.getvalue("referralCode")}`,"Referral Link")},children:"Copy"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:187,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:186,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:176,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/ReferMembers/ReferMembers.tsx",lineNumber:128,columnNumber:9},void 0)},we=()=>{const[y,n]=l.useState([]),o=()=>{p(b.postWithData("admin","getReferredRecruiterDetails",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId")}).then(t=>{t.data.referredRecruiterDetails&&n(t.data.referredRecruiterDetails||[])}))};l.useEffect(()=>{o()},[]);const u=l.useMemo(()=>[{accessorKey:"name",header:"Name",enableColumnPinning:!0,size:100},{accessorKey:"email",header:"Email",Cell:({row:t})=>e.jsxDEV("span",{className:"tt-lower",children:t.original.email},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:71,columnNumber:21},void 0),size:100},{accessorKey:"status",header:"Status",Cell:({row:t})=>e.jsxDEV("span",{className:`${t.original.status}`,children:[t.original.status==="Pending"?e.jsxDEV(_,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:82,columnNumber:33},void 0):t.original.status==="Accepted"?e.jsxDEV(q,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:85,columnNumber:37},void 0):null,e.jsxDEV("span",{className:"px-2",children:t.original.status},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:89,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:79,columnNumber:21},void 0)},{accessorKey:"referredDate",header:"Reffered Date",Cell:({row:t})=>e.jsxDEV("span",{children:t.original.referredDate&&O.ServerEDTToSystem(t.original.referredDate.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a")},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:97,columnNumber:21},void 0),size:100},{accessorKey:"invitedDate",header:"",Cell:({row:t})=>e.jsxDEV("span",{children:t.original.status==="Pending"?e.jsxDEV(D,{variant:"outlined",color:"primary",size:"small",onClick:()=>d(t.original.email),children:"Re-invite"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:112,columnNumber:33},void 0):e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:114,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:109,columnNumber:21},void 0),size:100}],[]),d=t=>{t?p(b.postWithData("admin","sendRefferalEmail",{recrId:s.getvalue("recrId"),clientId:s.getvalue("clientId"),emailIds:[t]}).then(c=>{console.log(c.data),c.data.Success?i("Referral sent successfully.","success"):i(c.data.Message?c.data.Message:"An error occured while Referring.","error")})):i("no email found to Invite","error")};return e.jsxDEV("div",{id:"ReferMember",children:[e.jsxDEV(m,{container:!0,direction:"row",className:"customCard px-4 py-2 mt-4",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[e.jsxDEV(P,{variant:"h6",className:"headerName",children:"Refer"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:147,columnNumber:13},void 0),e.jsxDEV(k,{direction:"row",className:"btn-container"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:150,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:146,columnNumber:9},void 0),e.jsxDEV(m,{container:!0,direction:"row",className:"py-2 mt-4",justifyContent:"flex-start",alignItems:"center",display:"flex",sx:{minHeight:"auto !important",width:730},children:e.jsxDEV(Q,{closeInvitePopup:t=>{t&&o()}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:155,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:154,columnNumber:9},void 0),e.jsxDEV("div",{className:"MRTableCustom  pl-0 pl-4",children:e.jsxDEV(L,{columns:u,enableRowSelection:!1,data:y,enablePinning:!0,enableStickyHeader:!0,initialState:{columnPinning:{left:["name"]},density:"comfortable",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!0,enableGlobalFilter:!1,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,columnResizeMode:"onChange",getRowId:t=>t.email,icons:{ArrowDownwardIcon:t=>e.jsxDEV(G,{...t},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:187,columnNumber:56},void 0)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:164,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:163,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Refer/Refer.tsx",lineNumber:145,columnNumber:12},void 0)};export{we as default};
