import{r as t,k as e,D as _,O as f,B as C,o as G,L as c,W as S,A as b,T as u,S as L,I as j,l as k,b1 as Z,V as ee}from"./DAuuuMsE.js";import{A as ae}from"./Ds3cWBsm.js";import{u as te}from"./D1ftmOk2.js";import{c as le,a as O}from"./DwmmMyHW.js";import{I as ie}from"./BNdv2g09.js";import{D as re}from"./B9XnAqVK.js";import{D as J,l as se}from"./Cg41riQw.js";import{C as oe,L as ne}from"./DomlXlz8.js";import{E as ce}from"./CZecArO6.js";import{A as me}from"./DSOqU4yp.js";import{b as ue}from"./Ez4yizbq.js";import{S as K}from"./ef7hfbYP.js";import{D as Q}from"./Br0xRRVu.js";import{D as X}from"./C_IKUwSv.js";import{e as de,P as De}from"./w5-nO31Y.js";import{e as $,a as q}from"./BZPAOVTJ.js";import{A as ye}from"./DKIh428S.js";import{L as H}from"./CyNs35Qt.js";import{M as fe}from"./jdB7QyXR.js";import{S as ge}from"./uFojjQjd.js";import{C as Y}from"./Doaqw506.js";import{P as Ne}from"./DgjxHwfk.js";import{D as be}from"./DFpDws4A.js";import{M as Ee}from"./D2Y9uqkR.js";import{C as pe}from"./D0ZL01oz.js";import{T as xe}from"./DbsmdDnd.js";import"./IOI02mfF.js";import"./BestnZaX.js";import"./BqtMM88J.js";import"./CNOiQri2.js";import"./rzLa6I96.js";import"./OPHguh9D.js";import"./DistCVVm.js";import"./BayHs3N0.js";import"./7FOaSWX5.js";import"./rYcqsWUw.js";import"./Bgs2xNBT.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";import"./BfUNlM_N.js";import"./CBxlKsSv.js";import"./DgQtaCo8.js";import"./DVyrZ3Lu.js";import"./BBk0QSpz.js";import"./1RB4_3m-.js";import"./tW4e0zz_.js";import"./Dsukr_f2.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./C4JXEfII.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./JyAhcbJl.js";import"./7BYfJRlb.js";import"./_sSW2cUy.js";import"./CPvg8iC8.js";const he=({emailData:o})=>{const[n,s]=t.useState(!0),d=D=>{const l=document.createElement("span");return l.style.display="none",l.innerHTML=D,l.remove(),l.textContent||l.innerText};return e.jsxDEV("div",{className:"email-block-wrapper",children:[e.jsxDEV(u,{variant:"h3",className:"email-sub",children:o.subject},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:36,columnNumber:13},void 0),e.jsxDEV(L,{direction:"row",children:[e.jsxDEV("div",{className:"icon",children:o.type==="OUT"?e.jsxDEV(me,{className:"out"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:39,columnNumber:49},void 0):e.jsxDEV(ue,{className:"in"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:39,columnNumber:87},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:38,columnNumber:17},void 0),e.jsxDEV("div",{className:"email-wrapper",children:[e.jsxDEV(L,{component:"div",className:"email-header",justifyContent:"space-between",onClick:()=>s(!n),direction:"column",children:[e.jsxDEV(L,{direction:"row",justifyContent:"space-between",alignItems:"baseline",children:[e.jsxDEV("div",{children:[e.jsxDEV(L,{direction:"row",children:[e.jsxDEV(u,{variant:"h4",className:"name",children:o.recrName},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:52,columnNumber:37},void 0),n&&e.jsxDEV(u,{className:"e-id",children:"<"+o.emailId+">"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:53,columnNumber:50},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:51,columnNumber:33},void 0),!n&&e.jsxDEV(u,{className:"e-id",children:"to "},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:55,columnNumber:47},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:50,columnNumber:29},void 0),e.jsxDEV("div",{className:"date",children:[J.fromISO(o.date.replace(" ","T")).toFormat("MM/dd/yyyy hh:mm:ss a"),e.jsxDEV(j,{children:e.jsxDEV(K,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:60,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:59,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:57,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:49,columnNumber:25},void 0),e.jsxDEV("div",{className:"text-wrap",children:n&&e.jsxDEV(u,{className:"body-text",children:d(o.body)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:65,columnNumber:42},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:64,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:42,columnNumber:21},void 0),!n&&e.jsxDEV("div",{className:"email-body",dangerouslySetInnerHTML:{__html:o.body}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:68,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:41,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:37,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:35,columnNumber:9},void 0)},ve=({dialogOpen:o,onClose:n,accountId:s})=>{const[d,D]=t.useState([]),l=g=>{const M={emailId:1,clientId:c.getvalue("clientId"),recrId:c.getvalue("recrId")};S(b.postWithData("admin","emailLog",M).then(i=>{i.data.Message==="Success"&&D(i.data.emailslog)}).catch(i=>console.error("Failed to fetch email preview:",i)))};return t.useEffect(()=>{l()},[s]),e.jsxDEV(_,{open:!!o,onClose:n,maxWidth:"md",fullWidth:!0,children:[e.jsxDEV(Q,{className:"py-2",children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:"Email Details"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:111,columnNumber:21},void 0),e.jsxDEV("div",{children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:e.jsxDEV(C,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:n,children:"Close"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:114,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:113,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:112,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:104,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:103,columnNumber:13},void 0),e.jsxDEV(X,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:119,columnNumber:13},void 0),e.jsxDEV(G,{className:"p-1",sx:{minHeight:"300px"},children:d.map(g=>e.jsxDEV(he,{emailData:g},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:122,columnNumber:21},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailDetailsDialog/EmailDetailsDialog.tsx",lineNumber:102,columnNumber:9},void 0)},Ce=({dialogOpen:o,onClose:n,accountData:s})=>{const[d,D]=t.useState(!1),[l,g]=t.useState([]),[M,i]=t.useState(!1),[p,P]=t.useState(!0),[y,x]=t.useState(1),[E,B]=t.useState(0),[V,h]=t.useState(!1),[T,A]=t.useState(""),F=()=>{i(!0)},W=()=>{g(l),P(!0)},I=()=>{x(a=>Math.max(a-1,1))},R=()=>{x(a=>a<E?a+1:a)},v=a=>{A(a),h(!0)},w=()=>{const a={accountId:s.account,page:y,pageSize:10};S(b.getByParams(193,"/Curately/EmailEngine/getMessages.jsp",a).then(m=>{m.data&&m.data.messages&&(g(m.data.messages),B(m.data.pages))}).catch(m=>console.error("Failed to fetch inbox emails:",m)))};return t.useEffect(()=>{w()},[s.account,y]),e.jsxDEV(_,{open:!!o,onClose:n,maxWidth:"xl",fullWidth:!0,id:"curatelyMailDialog",children:[e.jsxDEV(Q,{className:"py-2",children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"addHeader",children:"Curately Mail"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:121,columnNumber:21},void 0),e.jsxDEV("div",{children:e.jsxDEV(f,{container:!0,direction:"row",justifyContent:"end",alignItems:"center",children:e.jsxDEV(C,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:n,children:"Close"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:124,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:123,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:122,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:114,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:113,columnNumber:13},void 0),e.jsxDEV(X,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV(G,{children:e.jsxDEV("div",{className:"emaillist-wrap",children:[e.jsxDEV("div",{className:"sidebar",children:e.jsxDEV(de,{component:"nav",children:[e.jsxDEV($,{className:"compose",onClick:()=>D(!0),sx:{cursor:"pointer",backgroundColor:"#757ce8",color:"white",borderRadius:"5px"},children:[e.jsxDEV(q,{children:e.jsxDEV(ye,{style:{color:"white"}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:137,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:136,columnNumber:33},void 0),e.jsxDEV(H,{primary:"Compose"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:139,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:135,columnNumber:29},void 0),e.jsxDEV($,{sx:{cursor:"pointer"},onClick:W,children:[e.jsxDEV(q,{children:e.jsxDEV(fe,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:143,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:142,columnNumber:33},void 0),e.jsxDEV(H,{primary:"Inbox"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:145,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:141,columnNumber:29},void 0),e.jsxDEV($,{sx:{cursor:"pointer"},onClick:F,children:[e.jsxDEV(q,{children:e.jsxDEV(ge,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:149,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:148,columnNumber:33},void 0),e.jsxDEV(H,{primary:"Sent"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:151,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:147,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:134,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:133,columnNumber:21},void 0),e.jsxDEV(f,{children:[e.jsxDEV(k,{style:{marginLeft:"240px",padding:"0px",overflow:"auto",height:"calc(100vh - 210px)",width:"calc(100vw - 340px)"},children:p&&(l==null?void 0:l.length)>0?l.map(a=>{var m;return e.jsxDEV(e.Fragment,{children:e.jsxDEV(Y,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 16px",backgroundColor:a.unseen?"#ffffff":"#f0f0f0",boxShadow:"none",borderBottom:"1px solid #e0e0e0","&:hover":{backgroundColor:"#f7f7f7"},color:"#202124",fontWeight:"bold",marginBottom:"8px"},children:[e.jsxDEV(k,{sx:{display:"flex",alignItems:"center",flex:1},children:[e.jsxDEV(j,{size:"large",sx:{marginRight:"16px"},children:e.jsxDEV(oe,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:184,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:183,columnNumber:49},void 0),e.jsxDEV(j,{children:e.jsxDEV(K,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:187,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:186,columnNumber:49},void 0),e.jsxDEV(j,{children:e.jsxDEV(ne,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:190,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:189,columnNumber:49},void 0),e.jsxDEV(u,{variant:"body1",className:"emailTitle",component:"span",onClick:()=>v(a.emailId),children:(m=a==null?void 0:a.from)==null?void 0:m.name},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:192,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:182,columnNumber:45},void 0),e.jsxDEV(k,{sx:{flex:2,textAlign:"left",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e.jsxDEV(u,{variant:"subtitle1",onClick:()=>v(a.emailId),className:"c-pointer",children:a.subject},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:198,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:197,columnNumber:45},void 0),e.jsxDEV(u,{variant:"caption",sx:{flex:0,whiteSpace:"nowrap"},children:J.fromISO(a.date).toFormat("MM/dd/yyyy hh:mm:ss a")},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:201,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:167,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:166,columnNumber:37},void 0)}):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:156,columnNumber:25},void 0),p&&(l==null?void 0:l.length)>0&&e.jsxDEV(k,{sx:{display:"flex",justifyContent:"center",pt:2,height:"43px"},children:[e.jsxDEV(C,{className:"btnSecondary",onClick:I,disabled:y<=1,variant:"outlined",color:"secondary",children:"Previous"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:213,columnNumber:33},void 0),e.jsxDEV(u,{sx:{margin:"0 15px"},children:["Page ",y," of ",E]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:214,columnNumber:33},void 0),e.jsxDEV(C,{className:"btnSecondary",onClick:R,disabled:y>=E,variant:"outlined",type:"button",color:"secondary",children:"Next"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:215,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:212,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:155,columnNumber:21},void 0),e.jsxDEV(f,{children:[d&&e.jsxDEV(ce,{dialogOpen:d,onClose:()=>D(!1),name:"",emailId:"",fromEmail:s.email?s.email:"",fromName:s.name?s.name:s.account?s.account:"",curatelyMail:!0,emailAccountId:s.account},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:220,columnNumber:42},void 0),V&&e.jsxDEV(ve,{dialogOpen:V,onClose:()=>h(!1),accountId:s.account},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:231,columnNumber:46},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:219,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:131,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/CuratelyMailDialog/CuratelyMailDialog.tsx",lineNumber:112,columnNumber:9},void 0)},Ia=()=>{var v,w,a,m,U,z;const[o,n]=t.useState(!1),[s,d]=t.useState({email:"",name:"",state:"",type:"",account:""}),D=le({account:O().required("Required"),name:O().required("Required"),email:O().required("Required").email("Invalid email format"),redirectUrl:O()}),l=te({initialValues:{account:`${c.getvalue("clientId")}_${c.getvalue("recrId")}`,name:c.getvalue("recrFullName"),email:"",redirectUrl:window.location.href},validationSchema:D,onSubmit:()=>{},validateOnMount:!0}),g=()=>{S(b.getByParams(193,"/Curately/EmailEngine/createAccount.jsp",{clientId:c.getvalue("clientId"),...l.values}).then(r=>{if(console.log(r.data),r.data.url){let N=r.data.url.replace("http://54.187.123.62:3000","https://emailengine.curately.ai");ie.check(N)&&(window.location.href=N)}}))},M=r=>{S(b.getByParams(193,"/Curately/EmailEngine/deleteAccount.jsp",{clientId:c.getvalue("clientId"),accountId:r}).then(N=>{console.log(N.data),N.data.deleted?(localStorage.setItem("emailEngineAccountActive","0"),E(!1),x()):ee("An error occured while deleting account.","error")}))},[i,p]=t.useState([]),[P,y]=t.useState(!1),x=t.useCallback(se.debounce(()=>{S(b.getByParams(193,"/Curately/EmailEngine/getAccounts.jsp",{clientId:c.getvalue("clientId"),recrId:c.getvalue("recrId")}).then(r=>{y(!1),r.data.account===`${c.getvalue("clientId")}_${c.getvalue("recrId")}`?(p([r.data]),Number(localStorage.getItem("emailEngineAccountActive"))||(localStorage.setItem("emailEngineAccountActive","1"),E(!0))):p([])}))},400),[]),E=r=>{b.postWithData("admin","updateRecrEmailEngineAccountStatus",{clientId:c.getvalue("clientId"),recrId:c.getvalue("recrId"),emailEngineAccountCreated:r}).then(N=>{console.log(N.data)})},B=r=>{d(r),console.log(r),n(!0)};t.useEffect(()=>{x(),y(!0)},[]);const V=()=>{l.resetForm(),g()},h=r=>{b.saveAuditLog(r)};t.useEffect(()=>{h(4298)},[]);const[T,A]=t.useState(null),F=r=>{A(r.currentTarget)},W=()=>{A(null)},I=!!T,R=I?"simple-popover":void 0;return e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"p-3 ",id:"EmailAccountsList",children:[e.jsxDEV(f,{direction:"row",className:"customCard px-4 py-2",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:e.jsxDEV(u,{variant:"h6",className:"header",children:"Email Account"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:325,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:317,columnNumber:17},void 0),P?null:e.jsxDEV(f,{container:!0,children:i.length!==0?e.jsxDEV(Y,{className:"emailAccount-card",children:e.jsxDEV(pe,{children:[e.jsxDEV("div",{className:"action",children:[e.jsxDEV(j,{onClick:F,children:e.jsxDEV(Ee,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:346,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:345,columnNumber:33},void 0),e.jsxDEV(De,{id:R,open:I,anchorEl:T,onClose:W,className:"accountActionPopover",anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxDEV(xe,{title:"Delete",children:e.jsxDEV(re,{sx:{color:"red"},className:"fs-18 cursor-pointer c-red",onClick:()=>{Z(`Are you sure you want to delete Account -  ${i[0].name} ?`,()=>{M(i[0].account)},"warning")}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:360,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:359,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:348,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:344,columnNumber:29},void 0),e.jsxDEV("h4",{className:"hightLightTd",onClick:()=>B(i[0]),children:(v=i[0])==null?void 0:v.name},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:370,columnNumber:29},void 0),e.jsxDEV("p",{children:(w=i[0])==null?void 0:w.email},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:373,columnNumber:29},void 0),e.jsxDEV("p",{children:e.jsxDEV("span",{className:"textCapital",children:(a=i[0])==null?void 0:a.type},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:374,columnNumber:32},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:374,columnNumber:29},void 0),e.jsxDEV("p",{children:e.jsxDEV("span",{className:"status-btn "+(((m=i[0])==null?void 0:m.state)==="connected"?"connected":"pending"),children:[((U=i[0])==null?void 0:U.state)==="connected"?e.jsxDEV(be,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:379,columnNumber:45},void 0):e.jsxDEV(Ne,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:381,columnNumber:45},void 0),e.jsxDEV("span",{className:"px-2",children:(z=i[0])==null?void 0:z.state},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:383,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:376,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:375,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:343,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:342,columnNumber:54},void 0):e.jsxDEV(C,{className:"user",variant:"outlined",size:"large",onClick:()=>{V(),h(4299)},startIcon:e.jsxDEV(ae,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:390,columnNumber:40},void 0),children:"Connect Account"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:389,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:341,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:316,columnNumber:13},void 0),o&&e.jsxDEV(Ce,{dialogOpen:o,onClose:()=>n(!1),accountData:s},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:513,columnNumber:32},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/Email/EmailAccountsList.tsx",lineNumber:315,columnNumber:9},void 0)};export{Ia as default};
