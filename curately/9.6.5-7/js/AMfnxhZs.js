import{k as a,r as u,S as y,l as b,T as l,A as v,L as f}from"./DAuuuMsE.js";import{D as L}from"./Cg41riQw.js";import{M as D}from"./jPTC2gjK.js";import{E as j}from"./CgQJ4S-L.js";import{L as g}from"./QwUMPYgi.js";import{C as w}from"./D0ZL01oz.js";import{T as n}from"./DbsmdDnd.js";import"./BZPAOVTJ.js";import"./BestnZaX.js";import"./w5-nO31Y.js";import"./OPHguh9D.js";import"./DistCVVm.js";import"./BqtMM88J.js";import"./IOI02mfF.js";import"./Ez4yizbq.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./D2Y9uqkR.js";import"./DVyrZ3Lu.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./C4JXEfII.js";import"./Dsukr_f2.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./Br0xRRVu.js";import"./C_IKUwSv.js";import"./JyAhcbJl.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";import"./68QKccnG.js";import"./D7NzemaK.js";import"./_sSW2cUy.js";import"./DKC21gSL.js";import"./Doaqw506.js";import"./D1ftmOk2.js";import"./DwmmMyHW.js";import"./qgPoCDZV.js";import"./B9XnAqVK.js";import"./CBxlKsSv.js";import"./BfUNlM_N.js";import"./7FOaSWX5.js";import"./rYcqsWUw.js";import"./Bgs2xNBT.js";import"./tW4e0zz_.js";import"./BayHs3N0.js";import"./fls-JeST.js";import"./6vuVcGup.js";const M=({content:r,maxLines:p,expanded:d})=>{r=r.replace('<style type="text/css">','<style type="text/css"> .htmlCont {'),r=r.replace('<style style="text/css">','<style style="text/css"> .htmlCont {'),r=r.replace("<style>","<style> .htmlContent {"),r=r.replace("</style>","} </style>");const m=r.replace(/<p>\s*<\/p>/g,"").replace(/<br\s*\/?>/g,""),o=document.createElement("div");o.innerHTML=m;const c=o.innerText.trim();return a.jsxDEV("div",{className:"readMoreContent",style:{maxHeight:d?"none":`${p*20}px`,color:d?"#1a1a1a":"#737373",padding:d?"10px":"2px",overflow:d?"auto":"hidden"},children:a.jsxDEV("div",{dangerouslySetInnerHTML:{__html:d?m:c.substring(0,50)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/ReadMoreMaster.tsx",lineNumber:36,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/ReadMoreMaster.tsx",lineNumber:26,columnNumber:5},void 0)},Le=({candidateId:r,emailId:p,contactId:d,refreshList:m})=>{const[o,c]=u.useState([]),[x,h]=u.useState({}),E=()=>{try{v.postWithData("admin","emailLog",{userId:r||"",contId:d||"",page:0,clientId:f.getvalue("clientId"),recrId:f.getvalue("recrId")}).then(e=>{if(e.data.Message==="Success"){let s=e.data.emailslog,t=JSON.parse(JSON.stringify(s));for(let i=0;i<t.length;i++)t[i].body=D.RemoveStyleTag(t[i].body),t[i].subject=t[i].subject?t[i].subject.replace(/[^a-zA-Z0-9~`!@#$%^&*()_+-={}|:;<>,.?\/ \n[\]']/g,""):"",t[i].textBody=D.ToText(t[i].body);t=t.sort((i,V)=>new Date(V.date).getTime()-new Date(i.date).getTime()),c(t)}})}catch{}},C=e=>{h(s=>({...s,[e]:!s[e]}))},N=e=>L.fromFormat(e.substring(0,19),"yyyy-MM-dd hh:mm:ss").toFormat("MM/dd/yyyy, t");return u.useEffect(()=>{E()},[m]),a.jsxDEV("div",{className:"EmailList",children:a.jsxDEV(y,{className:"mainStack",children:a.jsxDEV(y,{sx:{width:"100%"},children:a.jsxDEV(b,{className:"",sx:{padding:"0 !important"},children:[a.jsxDEV(b,{className:"mainHeadBox px-0",children:a.jsxDEV(l,{className:"Emails-Style",children:"Email History"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:167,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:166,columnNumber:25},void 0),a.jsxDEV(y,{children:a.jsxDEV("div",{className:"cardBottom",children:o.map((e,s)=>{var i;const t=((i=e._id)==null?void 0:i.$oid)||e.emailId||s;return a.jsxDEV(w,{className:"cardContentHover handcursor px-0 d-flex",onClick:()=>C(t),children:a.jsxDEV("div",{className:"email_maindiv",children:[e.type==="OUT"?a.jsxDEV(l,{className:"email-recruiter",sx:{paddingBottom:"2px !important"},children:[a.jsxDEV(n,{title:e.senderEmail,children:e.recrName},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:189,columnNumber:53},void 0),e.candidateName&&a.jsxDEV(a.Fragment,{children:[" to ",a.jsxDEV(n,{title:e.candidateEmail,children:a.jsxDEV("u",{children:e.candidateName},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:192,columnNumber:94},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:192,columnNumber:57},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:190,columnNumber:76},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:188,columnNumber:72},void 0):a.jsxDEV(l,{className:"email-recruiter",sx:{paddingBottom:"2px !important"},children:[a.jsxDEV(n,{title:e.candidateEmail,children:a.jsxDEV("u",{children:e.candidateName},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:198,columnNumber:94},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:198,columnNumber:57},void 0),e.candidateName&&a.jsxDEV(a.Fragment,{children:[" to ",a.jsxDEV(n,{title:e.senderEmail,children:e.recrName},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:201,columnNumber:61},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:199,columnNumber:80},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:197,columnNumber:53},void 0),a.jsxDEV(l,{className:"email-subject tt-capital",children:e.subject.length>50?e.subject.trim().substring(0,50)+"...":e.subject.trim()},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:208,columnNumber:49},void 0),a.jsxDEV(l,{variant:"subtitle2",color:"text.secondary",children:a.jsxDEV(M,{content:e.body,maxLines:1,expanded:!!x[t]},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:213,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:211,columnNumber:49},void 0),a.jsxDEV("div",{className:"dateSection",children:a.jsxDEV(l,{variant:"body2",color:"text.secondary",sx:{fontSize:"12px",fontWeight:"500"},children:[a.jsxDEV(n,{title:e.type==="OUT"?`Sent on ${N(e.date)}`:`Received on ${N(e.date)}`,children:a.jsxDEV(j,{sx:{fontSize:"16px",verticalAlign:"middle",paddingRight:"2px"}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:230,columnNumber:61},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:224,columnNumber:57},void 0)," ",e.date?g.ServerEDTToSystem(e.date.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a"):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:220,columnNumber:53},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:219,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:187,columnNumber:45},void 0)},s+"emailList",!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:175,columnNumber:41},void 0)})},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:170,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:169,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:165,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:164,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:163,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Candidate/ViewCandidate/EmailList.tsx",lineNumber:162,columnNumber:9},void 0)};export{Le as default};
