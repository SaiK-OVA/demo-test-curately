import{r as l,W as m,A as o,L as r,k as t,B as d,b1 as x,V as n,O as y,T as I,S,D as E,n as j,o as V}from"./DAuuuMsE.js";import{M as R}from"./Ez4yizbq.js";import{I as C}from"./Cg3Jgvqv.js";import{L as P}from"./QwUMPYgi.js";import{S as z}from"./68QKccnG.js";import{P as A}from"./DgjxHwfk.js";import{D as L}from"./DFpDws4A.js";import{T as k}from"./BestnZaX.js";import{M as W}from"./OPHguh9D.js";import{D as K}from"./Br0xRRVu.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./D2Y9uqkR.js";import"./BZPAOVTJ.js";import"./w5-nO31Y.js";import"./DistCVVm.js";import"./BqtMM88J.js";import"./DVyrZ3Lu.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./DbsmdDnd.js";import"./C4JXEfII.js";import"./Dsukr_f2.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./C_IKUwSv.js";import"./JyAhcbJl.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";import"./BreDWgEm.js";import"./DlTMcna4.js";import"./DwmmMyHW.js";import"./tW4e0zz_.js";import"./IOI02mfF.js";import"./Cg41riQw.js";const ve=()=>{const[D,g]=l.useState([]),[b,c]=l.useState(!1),[f,p]=l.useState([]);l.useEffect(()=>{N(),u()},[]);const N=()=>{m(o.postWithData("admin","getRoleList",{recrId:r.getvalue("recrId"),clientId:r.getvalue("clientId")}).then(e=>{const a=e.data;a.Success&&p([...a.list])}))},h=(e,a,s)=>{m(o.postWithData("admin","updateInviteRecruiterRole",{recrId:s,clientId:r.getvalue("clientId"),roleId:e.target.value,invitedId:a}).then(i=>{i.data.Success?(n("Recuriter Role updated successfully.","success"),u()):n(i.data.Message?i.data.Message:"Error retriving Roles data","error")}))},u=()=>{m(o.postWithData("admin","getInvitedRecruiterDetails",{recrId:r.getvalue("recrId"),clientId:r.getvalue("clientId")}).then(e=>{e.data.Success&&g(e.data.invitedRecruiterDetails||[])}))},v=l.useMemo(()=>[{accessorKey:"name",header:"Name",enableColumnPinning:!0,size:100},{accessorKey:"email",header:"Email",Cell:({row:e})=>t.jsxDEV("span",{className:"tt-lower",children:e.original.email},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:121,columnNumber:36},void 0),size:100},{accessorKey:"status",header:"Status",Cell:({row:e})=>t.jsxDEV("span",{className:`${e.original.status}`,children:[e.original.status==="Pending"?t.jsxDEV(A,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:131,columnNumber:33},void 0):e.original.status==="Accepted"?t.jsxDEV(L,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:134,columnNumber:37},void 0):null,t.jsxDEV("span",{className:"px-2",children:e.original.status},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:138,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:128,columnNumber:21},void 0)},{accessorKey:"invitedDate",header:"Invited Date",Cell:({row:e})=>t.jsxDEV("span",{children:e.original.invitedDate&&P.ServerEDTToSystem(e.original.invitedDate.substring(0,19),"yyyy-MM-dd hh:mm:ss","MM/dd/yyyy hh:mm a")},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:146,columnNumber:21},void 0),size:100},{accessorKey:"roleId",header:"Role",Cell:({row:e})=>{var a,s;return t.jsxDEV("span",{children:e.original.status==="Accepted"?t.jsxDEV(k,{fullWidth:!0,className:"mt-1",size:"small",variant:"outlined",select:!0,id:`role-${e.original.invitedId}`,value:(a=e.original)==null?void 0:a.roleId,onChange:i=>h(i,e.original.invitedId,e.original.recrId),children:f.map(i=>t.jsxDEV(W,{value:i.roleId,children:i.roleName},i.roleId,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:174,columnNumber:41},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:161,columnNumber:29},void 0):(s=e.original)==null?void 0:s.roleName},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:159,columnNumber:21},void 0)},size:80},{accessorKey:"recrId",header:"",Cell:({row:e})=>{let a=e.original.status==="Accepted"&&e.original.recrId?e.original.recrId:0;return t.jsxDEV("span",{children:[e.original.status==="Pending"?t.jsxDEV(d,{variant:"outlined",color:"primary",size:"small",onClick:()=>T(e.original.email),children:"Re-invite"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:194,columnNumber:33},void 0):null,t.jsxDEV(d,{variant:"outlined",color:"error",size:"small",className:"ml-2",onClick:()=>{x(`Are you sure you want to delete ${e.original.name?e.original.name:e.original.email}?`,()=>{M(e.original.invitedId,a)},"warning")},children:"Remove"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:198,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:191,columnNumber:29},void 0)},size:100}],[f]),M=(e,a)=>{m(o.postWithData("admin","deleteRecruiterFromInvite",{recrId:r.getvalue("recrId"),clientId:r.getvalue("clientId"),invitedRecrId:a,invitedId:e}).then(s=>{console.log(s.data),s.data.Success?(n("Team Member has been removed successfully.","success"),u()):n(s.data.Message?s.data.Message:"An error occured while removing.","error")}))},T=e=>{e?m(o.postWithData("admin","sendInviteEmail",{recrId:r.getvalue("recrId"),clientId:r.getvalue("clientId"),emailIds:[e]}).then(a=>{console.log(a.data),a.data.Success?n("Invitation sent successfully.","success"):n(a.data.Message?a.data.Message:"An error occured while inviting.","error")})):n("no email found to Invite","error")};return t.jsxDEV("div",{id:"TeamMembers",children:[t.jsxDEV(y,{container:!0,direction:"row",className:"customCard px-4 py-2 mt-4",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[t.jsxDEV(I,{variant:"h6",className:"headerName",children:"Team Members"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:260,columnNumber:13},void 0),t.jsxDEV(S,{direction:"row",className:"btn-container",children:!r.getvalue("invitedBy")&&r.getvalue("paymentType")!==1?t.jsxDEV(d,{variant:"contained",className:"btnPrimary mr-3",size:"small",onClick:()=>{c(!0)},children:"Invite Members"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:266,columnNumber:25},void 0):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:263,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:259,columnNumber:9},void 0),t.jsxDEV("div",{className:"MRTableCustom  pl-0 ",children:t.jsxDEV(R,{columns:v,enableRowSelection:!1,data:D,enablePinning:!0,enableStickyHeader:!0,initialState:{columnPinning:{left:["name"]},density:"comfortable",showGlobalFilter:!1},enableDensityToggle:!1,enableFullScreenToggle:!0,enableGlobalFilter:!1,enablePagination:!1,enableBottomToolbar:!1,enableTopToolbar:!1,columnResizeMode:"onChange",getRowId:e=>e.email,icons:{ArrowDownwardIcon:e=>t.jsxDEV(z,{...e},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:297,columnNumber:56},void 0)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:274,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:273,columnNumber:9},void 0),b?t.jsxDEV(E,{open:b,onClose:()=>c(!1),children:[t.jsxDEV(K,{children:t.jsxDEV(y,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[t.jsxDEV("span",{className:"addHeader",children:"Invite Team Members"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:307,columnNumber:29},void 0),t.jsxDEV(j,{onClick:()=>c(!1)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:310,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:306,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:305,columnNumber:21},void 0),t.jsxDEV(V,{sx:{minWidth:500},className:"pt-4",children:t.jsxDEV(C,{closeInvitePopup:e=>{e&&u(),c(!1)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:315,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:314,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:304,columnNumber:17},void 0):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/TeamMembers/TeamMembers.tsx",lineNumber:258,columnNumber:12},void 0)};export{ve as default};
