import{r as d,L as o,W as b,A as u,V as m,k as a,D as h,T as V,o as y,S as A,B as v}from"./DAuuuMsE.js";import{D as N}from"./Br0xRRVu.js";import{T as x}from"./BestnZaX.js";import"./w5-nO31Y.js";const j=()=>{const[n,l]=d.useState(""),[t,r]=d.useState({cameratagId:"",label:""}),[f,c]=d.useState(!1);d.useEffect(()=>(l(`${window.location.protocol==="https:"?"https://app.curately.ai":"http://52.41.18.83:41088"}/Accuick_API/CameraTagAccountManager.html?recrId=${o.getvalue("recrId")}`),window.addEventListener("message",i),()=>window.removeEventListener("message",i)),[]);const i=e=>{if(e.data.addCameraTagVideo){let p={cameratagId:e.data.videoUrl,label:e.data.title,createdBy:o.getvalue("recrId"),clientId:o.getvalue("clientId")};r({cameratagId:e.data.videoUrl,label:e.data.title}),l(""),b(u.postWithData("admin","savevideo",p).then(s=>{console.log(s.data),s.data.Success?(c(!1),m("Video added successfully.","success"),l(`${window.location.protocol==="https:"?"https://app.curately.ai":"http://52.41.18.83:41088"}/Accuick_API/CameraTagAccountManager.html?recrId=${o.getvalue("recrId")}`),r({cameratagId:"",label:""})):(c(!0),m(s.data.Message,"error"))}))}},g=()=>{[null,void 0,"",0].includes(t.label)||i({data:{addCameraTagVideo:!0,title:t.label,videoUrl:t.cameratagId,action:""}})},D=e=>{u.saveAuditLog(e)};return d.useEffect(()=>{D(4296)},[]),a.jsxDEV("div",{id:"AddVideo",className:"p-4",children:[n?a.jsxDEV("iframe",{src:n,title:"Recording Video"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:98,columnNumber:21},void 0):null,a.jsxDEV(h,{open:f,maxWidth:"xs",fullWidth:!0,children:[a.jsxDEV(N,{children:a.jsxDEV(V,{variant:"h6",children:"Add Video"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:122,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:121,columnNumber:17},void 0),a.jsxDEV(y,{children:a.jsxDEV(A,{alignItems:"flex-end",spacing:2,py:1.5,children:[a.jsxDEV(x,{fullWidth:!0,size:"small",label:"Video Title",placeholder:"Enter video title",name:"add_video",value:t.label,onChange:e=>r({...t,label:e.target.value})},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:126,columnNumber:25},void 0),a.jsxDEV(v,{variant:"contained",onClick:g,children:"Update"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:133,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:125,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:124,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/AddVideo/AddVideo.tsx",lineNumber:95,columnNumber:9},void 0)};export{j as default};
