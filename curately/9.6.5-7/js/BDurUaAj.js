import{r,W as M,A as k,L as g,V as x,k as t,O as P,S as $,T as q,B as Q,cj as X}from"./DAuuuMsE.js";import{M as Z}from"./Ez4yizbq.js";import{C as ee}from"./B7IUApoB.js";import{S as te}from"./68QKccnG.js";import{C as R}from"./DLCWg8U-.js";import{F as ae}from"./3Gqd8Nje.js";import{M as oe}from"./aMnE1Gkw.js";import{C as le}from"./BestnZaX.js";import{I as w}from"./BqtMM88J.js";import{C as re}from"./9WUULBRn.js";import{S as se}from"./B2qHeyhM.js";import{T as v}from"./DbsmdDnd.js";import{E as ie}from"./D0ecPk_U.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./D2Y9uqkR.js";import"./BZPAOVTJ.js";import"./w5-nO31Y.js";import"./OPHguh9D.js";import"./DistCVVm.js";import"./DVyrZ3Lu.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./C4JXEfII.js";import"./Dsukr_f2.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./Br0xRRVu.js";import"./C_IKUwSv.js";import"./JyAhcbJl.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";import"./D1ftmOk2.js";import"./DwmmMyHW.js";import"./rYcqsWUw.js";import"./Cg41riQw.js";import"./IOI02mfF.js";import"./CNOiQri2.js";import"./rzLa6I96.js";import"./BayHs3N0.js";const ot=()=>{const[ne,ce]=r.useState(),[ue,me]=r.useState(),[de,he]=r.useState(!1),[De,be]=r.useState(""),[n,F]=r.useState([]),[u,H]=r.useState(""),[L,D]=r.useState(!1),[m,c]=r.useState({}),[z,E]=r.useState(0),[B,K]=r.useState([]),[_,G]=r.useState(),[s,b]=r.useState({pageIndex:0,pageSize:25}),[C,f]=r.useState(!1),[y,S]=r.useState({});r.useEffect(()=>{I()},[]);const I=()=>{M(k.getCall("ats",`jobDiva/getHotLists/${g.getvalue("clientId")}`).then(e=>{var l,o;let a=((l=e==null?void 0:e.data)==null?void 0:l.data)||[];(o=e==null?void 0:e.data)!=null&&o.Success&&(a!=null&&a.length)?(a=a.sort((i,d)=>{let h=new Date(i.DATECREATED);return new Date(d.DATECREATED).getTime()-h.getTime()}),F([...a]),E((a==null?void 0:a.length)||0)):x(e.data.Message?e.data.Message:"An error occured while getting Hot sheet List.","error")}))},N=e=>{const a=(e==null?void 0:e.length)>30?e.slice(0,30):e;return(e==null?void 0:e.length)>30?t.jsxDEV(v,{title:e,children:t.jsxDEV("span",{children:[a,"..."]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:88,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:87,columnNumber:17},void 0):t.jsxDEV("span",{children:a},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:91,columnNumber:23},void 0)},W=[{accessorKey:"HOTLIST_NAME",header:"Talent Pool Name",Cell:({row:e})=>N(e.original.HOTLIST_NAME)},{accessorKey:"DESCRIPTION",header:"Description",Cell:({row:e})=>N(e.original.DESCRIPTION)},{accessorKey:"JOBID",header:"Link to Job",Cell:({row:e})=>N(e.original.JOBID+" - "+e.original.LINK_TO_JOB)},{accessorKey:"CREATEDBY",header:"Created By",size:80},{accessorKey:"DATECREATED",header:"Created Date",Cell:({row:e})=>ae.formatMillisecondsToCustomDate(e.original.DATECREATED),size:80},{accessorKey:"curatelyId",header:"Curately",Cell:({row:e})=>e.original.curatelyId?t.jsxDEV(v,{title:"Curately",children:t.jsxDEV("span",{className:"ml-4",children:e.original.curatelyId?t.jsxDEV(R,{fontSize:"small",color:"success"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:129,columnNumber:54},void 0):""},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:128,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:127,columnNumber:45},void 0):"",size:80},{accessorKey:"voiceAiEnabled",header:"Voice AI",size:80,Cell:({row:e})=>{var a;return e.original.curatelyId?t.jsxDEV(t.Fragment,{children:(a=e==null?void 0:e.original)!=null&&a.voiceAiEnabled?t.jsxDEV("span",{className:"ml-4",children:[" ",t.jsxDEV(R,{color:"success"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:143,columnNumber:54},void 0)," "]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:143,columnNumber:29},void 0):t.jsxDEV(v,{title:"Click here to View Error Message",children:t.jsxDEV("span",{className:"ml-4 errorMsg",style:{cursor:"pointer"},onClick:()=>{var l;X({errorMessage:(l=e==null?void 0:e.original)==null?void 0:l.voiceAiReason,title:"VoiceAI - Error Message"})},children:[" ",t.jsxDEV(ie,{color:"error"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:147,columnNumber:34},void 0),"  "]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:145,columnNumber:79},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:145,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:141,columnNumber:21},void 0):null}}],U=r.useMemo(()=>{const e=n==null?void 0:n.filter(a=>a.HOTLIST_NAME.toLowerCase().includes(u.toLowerCase()||""));return E(e.length),e.slice(s.pageIndex*s.pageSize,(s.pageIndex+1)*s.pageSize)},[u,n,s]),T=e=>{const a=Object.keys(m);let l={atsName:"JobDiva",clientId:g.getvalue("clientId"),recruiterId:g.getvalue("recrId"),moduleName:"Pool",atsValues:a,data:n.filter(o=>a.includes(o.HOTLIST_ID.toString()))};e&&(l=Object.assign({},l,{...l,missingFields:e})),M(k.postWithData("ats","ats/consume",l).then(o=>{var i,d,h,p,V,j,J,A,O;(i=o.data)!=null&&i.Success&&((d=o.data)==null?void 0:d.Status)===200?(x(o.data.Message,"success"),f(!1),S({}),c({}),D(!1),I()):(h=o==null?void 0:o.data)!=null&&h.Error&&((p=o==null?void 0:o.data)==null?void 0:p.Status)===400&&((j=(V=o==null?void 0:o.data)==null?void 0:V.data)!=null&&j.missingFields)&&((O=Object.keys((A=(J=o==null?void 0:o.data)==null?void 0:J.data)==null?void 0:A.missingFields))!=null&&O.length)?(f(!0),S(o.data.data)):x(o.data.Message?o.data.Message:"An error occured while getting this Push to Curately.","error")}))},Y=async e=>{var a;if(D(e.target.checked),e.target.checked){let l={},o=n;for(let i=0;i<o.length;i++)["",null,void 0].includes((a=o[i])==null?void 0:a.curatelyId)&&(l[o[i].HOTLIST_ID]=!0);c(l)}else c({})};return t.jsxDEV("div",{className:"",id:"HotSheet",children:[t.jsxDEV("div",{className:"",children:[t.jsxDEV(P,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard px-4 py-2 mb-2",sx:{minHeight:"auto !important"},children:t.jsxDEV($,{direction:"row",spacing:3,children:t.jsxDEV(q,{variant:"h6",className:"header, pt-1",children:"JobDiva - Hot List"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:291,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:290,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:282,columnNumber:17},void 0),t.jsxDEV("div",{className:"p-4 customCard CardView",children:t.jsxDEV("div",{className:"MRTableCustom pl-0 ",children:[t.jsxDEV(P,{container:!0,className:"actionItems",width:"auto",children:[t.jsxDEV(le,{className:"select-all-checkbox",disableRipple:!0,color:"default",checked:L,onChange:Y},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:399,columnNumber:29},void 0),t.jsxDEV(Q,{variant:"outlined",color:"secondary",className:"mr-2 ml-2",disabled:Object.keys(m).length!==1,onClick:()=>T(),children:"Push to VoiceAI"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:407,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:398,columnNumber:25},void 0),t.jsxDEV(Z,{columns:W,enableRowSelection:e=>{var a;return["",null,void 0].includes((a=e==null?void 0:e.original)==null?void 0:a.curatelyId)},data:U,enablePinning:!0,muiSearchTextFieldProps:{placeholder:"Search",sx:{width:"205px",right:"50px",padding:"-10px",height:"20px",marginTop:"-10px",marginRight:"-40px"},value:u,onChange:e=>{b({...s,pageIndex:0}),H(e.target.value)},InputProps:{startAdornment:t.jsxDEV(w,{position:"start",children:t.jsxDEV(se,{fontSize:"small",htmlColor:"#757575"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:432,columnNumber:86},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:432,columnNumber:53},void 0),endAdornment:t.jsxDEV(w,{position:"end",disablePointerEvents:!u,children:t.jsxDEV(re,{fontSize:"small",htmlColor:u?"#757575":"#ebebeb",sx:{cursor:"pointer"},onClick:()=>H("")},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:434,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:433,columnNumber:51},void 0)}},initialState:{density:"compact",showGlobalFilter:!0},onColumnFiltersChange:K,onGlobalFilterChange:G,enableDensityToggle:!1,enableFullScreenToggle:!1,columnResizeMode:"onChange",getRowId:e=>e.HOTLIST_ID,onPaginationChange:b,state:{pagination:s,columnFilters:B,globalFilter:_,rowSelection:m},onRowSelectionChange:c,enableStickyHeader:!0,enablePagination:!1,muiSelectCheckboxProps:e=>({onChange:a=>{if(e.row.id){let l={...m};a.target.checked?l[e.row.id]=a.target.checked:l.hasOwnProperty(e.row.id)&&delete l[e.row.id],c(l)}}}),renderBottomToolbarCustomActions:()=>t.jsxDEV(ee,{page:s.pageIndex,rowsPerPage:s.pageSize,rowCount:z,onChangePage:e=>{c({}),D(!1),b({...s,pageIndex:e})}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:485,columnNumber:33},void 0),icons:{ArrowDownwardIcon:e=>t.jsxDEV(te,{...e},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:502,columnNumber:37},void 0)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:418,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:396,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:394,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:281,columnNumber:13},void 0),C&&t.jsxDEV(oe,{open:C,closePopup:()=>{f(!1),S({})},passedData:y==null?void 0:y.missingFields,handleUpdateToJobDiva:T},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:510,columnNumber:35},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/JobDiva/HotSheet/HotSheet.tsx",lineNumber:280,columnNumber:9},void 0)};export{ot as default};
