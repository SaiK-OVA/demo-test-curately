import{e as _e,j as Be,r as f,k as e,O as h,B as R,T as Re,I as Ve,D as rt,n as qe,o as lt,U as ot,W as oe,A as q,V as M,L as C,al as $e,S as We,b1 as xe,C as at}from"./DAuuuMsE.js";import{W as st,S as nt,a as X,P as ut,D as ct}from"./x5M6hHRC.js";import{M as it}from"./Ez4yizbq.js";import{Q as dt,a as mt,u as ft}from"./Cwe8Gbjx.js";import{S as bt}from"./68QKccnG.js";import{C as Ie}from"./CVMnKGVd.js";import{E as yt}from"./CgQJ4S-L.js";import{E as pt}from"./CZecArO6.js";import{A as Nt}from"./Ds3cWBsm.js";import{B as gt,E as ht,e as Fe,a as Ee,b as Dt,c as xt}from"./BZPAOVTJ.js";import{R as wt}from"./CAIaY_-v.js";import{u as vt,F as jt,a as kt,z as St}from"./D1ftmOk2.js";import{c as Je,a as G,f as Ce,d as Vt,i as Wt}from"./DwmmMyHW.js";import{E as fe}from"./BayHs3N0.js";import{m as Te}from"./rYcqsWUw.js";import{T as It}from"./Da20YfP4.js";import{M as Oe}from"./7FOaSWX5.js";import{D as Ft}from"./Br0xRRVu.js";import{D as Pe}from"./C_IKUwSv.js";import{T as Et}from"./BNPlfvDS.js";import{T as Ae}from"./DwyJjTQZ.js";import{T as A,C as Jt}from"./BestnZaX.js";import{M as x}from"./OPHguh9D.js";import{V as Ct}from"./C2k7UdtN.js";import{M as Tt}from"./zQ0bN4E_.js";import{M as we}from"./w5-nO31Y.js";import{V as Pt}from"./B6oZ6hiH.js";import{M as At}from"./qgPoCDZV.js";import{S as Mt}from"./CUccEGsQ.js";import{L as Me,B as _t}from"./CyNs35Qt.js";import{T as De}from"./DbsmdDnd.js";import{D as Bt}from"./D-OslLGJ.js";import"./Cg41riQw.js";import"./IOI02mfF.js";import"./BqtMM88J.js";import"./Db0xpewd.js";import"./BuWEhdgP.js";import"./ef7hfbYP.js";import"./CkvATnPE.js";import"./_sSW2cUy.js";import"./Cdc3Hay6.js";import"./CX3ETe29.js";import"./tW4e0zz_.js";import"./Dsukr_f2.js";import"./DIH5mOrc.js";import"./D7NzemaK.js";import"./DA-mmMmo.js";import"./DistCVVm.js";import"./XBS2c42B.js";import"./ZuCM0PYB.js";import"./Cla6FLE6.js";import"./C148XJoK.js";import"./1RB4_3m-.js";import"./9WUULBRn.js";import"./1Bak8biM.js";import"./CAXFyJib.js";import"./BjMtxRen.js";import"./DKLDh9pY.js";import"./CShd2aWe.js";import"./B555EqT9.js";import"./DKC21gSL.js";import"./jPTC2gjK.js";import"./Doaqw506.js";import"./DVyrZ3Lu.js";import"./B9XnAqVK.js";import"./CBxlKsSv.js";import"./BfUNlM_N.js";import"./QwUMPYgi.js";import"./fls-JeST.js";import"./6vuVcGup.js";import"./zUEaEf_Y.js";import"./CGk11wqi.js";import"./D2Y9uqkR.js";import"./DPDHQPP4.js";import"./CDmetmmn.js";import"./C4JXEfII.js";import"./B7U4EVWr.js";import"./JyAhcbJl.js";import"./CNOiQri2.js";import"./rzLa6I96.js";import"./DgQtaCo8.js";import"./BBk0QSpz.js";import"./DKIh428S.js";import"./Bgs2xNBT.js";import"./Ksuw09jf.js";import"./D_tiirKF.js";import"./BuclUrgD.js";import"./Cd_yc1BD.js";import"./C5yTyZm7.js";import"./Yygug6hj.js";import"./DpxQD_8Z.js";import"./BNdv2g09.js";import"./BLW-I1II.js";import"./Hgf8lt3P.js";import"./CJvoguQW.js";import"./BreDWgEm.js";import"./C3HWu0jO.js";import"./DtG_jpm7.js";import"./BUFmoVTz.js";import"./DXfIyogf.js";import"./CYGqEuGl.js";import"./D0ZL01oz.js";import"./CrXtTJmX.js";import"./7BYfJRlb.js";import"./CPvg8iC8.js";const Rt=_e(Be.jsx("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDownOutlined"),qt=_e(Be.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"}),"SkipNext"),$t=({stagesList:i,currentStageId:P,passedStageData:y={},workflowData:F,sendCandIds:E})=>{const[H,V]=f.useState(!1),[I,Z]=f.useState(!1),[U,Y]=f.useState(0),ae=f.useRef(!0),c=f.useRef([{name:"",id:"",json:[],assessments:[],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}]),j=f.useRef([{stageTypeId:"",name:"",title:"",stageId:""}]),ue=[{name:"State",id:"1"},{name:"Zipcode",id:"2"}],$=["Attended","Not Attended","Not Registered"],se=["Selected","Not Selected"],b=f.useRef({}),L=f.useRef(!1),J=f.useRef(-1),ee=Je().shape({json:Ce().of(Je().shape({stageId:G().required("Please select Stage"),fieldValue:G().required("Please enter Field Value"),compare:G().required("Please select a value."),condition:G().required("Please enter Conditional Value"),compareValue:Wt(l=>Array.isArray(l)?Ce().of(G()):G()),isShown:Vt()})),filterId:G(),recrIds:G(),recrNames:G()}),[g,O]=f.useState(y.filterId?JSON.parse(y.json).json:[]),r=vt({initialValues:y.filterId?{json:JSON.parse(y.json).json,filterId:y.filterId,recrIds:y.recrIds,recrNames:y.recrNames}:{json:[],filterId:"0",recrIds:"",recrNames:""},validationSchema:ee,onSubmit:()=>{Z(!0)}}),p=(l,t)=>{if(l){if([...j.current].findIndex(d=>d.stageId===l)!==-1){let d=b.current[Number(l)],N=[...r.values.json];N[t].stageId=l,N[t].fieldValue=d==="8"?"Webinar":"Scheduling",N[t].fieldType="radio",r.setFieldValue("json",N)}w(l,t,!1)}},w=(l,t,a)=>{if(l){if([...j.current].findIndex(N=>N.stageId===l)!==-1){let N=b.current[Number(l)];if(N==="12"||N==="3")oe(q.getByParams(193,"Curately/Workflow/workflow_filter_stages_data.jsp",{stageId:l,stageTypeId:N}).then(W=>{var ie,B;if(N==="12")if(W.data.assessments&&W.data.assessments.length){let s=W.data.assessments;for(let n=0;n<s.length;n++)if(s[n].assessmentsId==="JB-0WE9SVBRK")s[n].assessmentType="TTWordsPerMinute",s[n].assessmentsId="JB-0WE9SVBRK&&TTWordsPerMinute";else if(s[n].assessmentsId==="JB-AAJAZ4K91")s[n].assessmentType="Excel16Percentile",s[n].assessmentsId="JB-AAJAZ4K91&&Excel16Percentile";else if(s[n].assessmentsId==="JB-GHBP3ZY6N")s[n].assessmentType="Word16Percentile",s[n].assessmentsId="JB-GHBP3ZY6N&&Word16Percentile";else if(s[n].assessmentsId==="JB-HTELNQ8LF"){if(s[n].assessmentType!=="EPPPercentMatch"){s[n].assessmentsId="JB-HTELNQ8LF&&GAMEPercentile",s[n].assessmentType="GAMEPercentile";let D={...s[n]};D.assessmentType="EPPPercentMatch",D.assessmentsId="JB-HTELNQ8LF&&EPPPercentMatch",s.splice(n+1,0,D)}}else s[n].assessmentsId==="JB-TS406IM8D"?(s[n].assessmentsId="JB-TS406IM8D&&TenKeyAccuracy",s[n].assessmentType="TenKeyAccuracy"):s[n].assessmentsId==="JB-XDXQ65RS1"&&(s[n].assessmentsId="JB-XDXQ65RS1&&CLIKRanking",s[n].assessmentType="CLIKRanking");c.current[t]={...c.current[t],assessments:s,questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}}else M("No Assessments are assigned to this Stage.","error");else if(N==="3"&&W.data.formName&&W.data.formId){let s=JSON.parse(W.data.json).components;if(JSON.parse(W.data.json).curately)for(let n=0;n<s.length;n++){if(s[n].name=s[n].id,s[n].Type=s[n].inputType,s[n].choices)for(let D=0;D<s[n].choices.length;D++)typeof s[n].choices[D]=="string"||s[n].choices[D]instanceof String?s[n].choices[D]={name:s[n].choices[D],value:s[n].choices[D]}:s[n].choices[D]&&s[n].choices[D].value&&(s[n].choices[D].name=s[n].choices[D].value,s[n].choices[D].value=s[n].choices[D].id);if(s[n].Type==="dropdown"){let D=[];if(s[n].options)for(let Q=0;Q<s[n].options.length;Q++)(typeof s[n].options[Q]=="string"||s[n].options[Q]instanceof String)&&D.push({name:s[n].options[Q],value:s[n].options[Q]});s[n].choices=D}}else for(let n=0;n<s.length;n++)s[n].Type==="radio"?s[n].choices=s[n]&&s[n].Settings&&s[n].Settings[4]&&s[n].Settings[4].Possiblevalue?(ie=s[n].Settings[4])==null?void 0:ie.Possiblevalue:[]:s[n].Type==="dropdown"&&(s[n].choices=s[n]&&s[n].Settings&&s[n].Settings[3]&&s[n].Settings[3].Possiblevalue?(B=s[n].Settings[3])==null?void 0:B.Possiblevalue:[]);c.current[t]={...c.current[t],name:W.data.formName,id:W.data.formId,json:s,questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}}if(y.json){let s=JSON.parse(y.json).json;t===s.length-1&&V(!0)}setTimeout(()=>{a&&ne(t,!1,"")},500)}));else if(N==="1"){if(c.current[t]={...c.current[t],states:[...ue],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]},y.json){let W=JSON.parse(y.json).json;t===W.length-1&&V(!0)}setTimeout(()=>{a&&ne(t,!1,"")},500)}else if(N==="8"||N==="9"){if(c.current[t]={...c.current[t],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]},y.json){let W=JSON.parse(y.json).json;t===W.length-1&&V(!0)}setTimeout(()=>{a&&ne(t,!1,"")},500)}}}else{let u=JSON.parse(y.json).json;t===u.length-1&&V(!0)}},T=()=>{F.workflowId&&oe(q.getByParams(193,"Curately/Workflow/workflow_filter_stages_candidates.jsp",{workflowId:F.workflowId}).then(l=>{if(l.data.stages&&l.data.stages.length){if(j.current=l.data.stages.filter(t=>t.stageTypeId!=="1"),b.current=l.data.stages.reduce((t,a)=>Object.assign(t,{[a.stageId]:a.stageTypeId}),{}),!y.filterId&&y.filterId!=="0")V(!0);else if(y.json){let t=JSON.parse(y.json).json;for(let a=0;a<t.length;a++)w(t[a].stageId,a,!0);t.length||V(!0)}}else M("No Stages found on this Workflow to create Filters","error")}))},te=()=>{let l=[...r.values.json];l.push({stageId:"",fieldValue:"",compare:"",condition:"&&",compareValue:"",fieldType:"",isShown:!0}),c.current.push({name:"",id:"",json:[],assessments:[],states:[],questionSelectedId:"",questionType:"",questionValues:[],questionArray:[]}),r.setFieldValue("json",l)},_=l=>{let t=[...r.values.json];t.splice(l,1),J.current=l,r.setFieldValue("json",t)},ce=(l,t,a)=>{if(t)if(a==="stageId"){let u=j.current.find(d=>d.stageId===t);return u&&u.title?u.title:u&&u.name?u.name:""}else if(a==="stages"){let u=i.find(d=>d.stageId===t);return u&&u.title?u.title:u&&u.name?u.name:""}else if(a==="fieldValue"&&c.current&&c.current[l]&&r.values.json&&r.values.json[l]){if(b.current[Number(r.values.json[l].stageId)]==="1")if(c.current[l].states){let u=c.current[l].states.find(d=>d.id===t);return u&&(u!=null&&u.name)?u==null?void 0:u.name:""}else return"";if(b.current[Number(r.values.json[l].stageId)]==="12")if(c.current[l].assessments){let u=c.current[l].assessments.find(d=>d.assessmentsId===t);return u&&(u!=null&&u.name)?u==null?void 0:u.name:""}else return"";if(b.current[Number(r.values.json[l].stageId)]==="3")if(c.current[l].json){let u=c.current[l].json.find(d=>d.name===t);return u&&(u!=null&&u.labelName)?u==null?void 0:u.labelName:""}else return""}else return"";else return""},re=()=>{if(Z(!0),r.isValid)if(r.values.json.length){let l={...r.values},t=[...c.current];J.current!==-1&&(t.splice(J.current,1),l.json.splice(J.current,1),J.current=-1);for(let d=0;d<l.json.length;d++)l.json[d].stageId&&(l.json[d].stageTypeId=b.current[Number(l.json[d].stageId)]),l.json[d].isShown=!1,l.json[d].stageTypeId==="1"&&l.json[d].compareValue&&l.json[d].compareValue.length?(l.json[d].compareValue=Array.isArray(l.json[d].compareValue)?l.json[d].compareValue:l.json[d].compareValue.split(","),l.json[d].compareValue=l.json[d].compareValue.filter(Boolean).join()):l.json[d].stageTypeId==="3"&&(l.json[d].formId=t[d].id);r.setFieldValue("json",l.json);let a=JSON.parse(JSON.stringify(l.json));for(let d=0;d<a.length;d++)if(a[d].stageTypeId==="12"&&a[d].fieldValue&&a[d].fieldValue.startsWith("JB-")&&a[d].fieldValue.split("&&").length>1){let N=a[d].fieldValue.split("&&");a[d].fieldValue=N[0],a[d].assessmentType=N[1]}let u={filterId:r.values.filterId?r.values.filterId:"0",currentStageId:P,json:a,workflow_job_id:F.workflow_job_id,recrId:C.getvalue("recrId"),recrIds:r.values.recrIds,clientId:C.getvalue("clientId")};oe(q.postWithData("233seq","DemoAutomation/workflowFilters",u).then(d=>{z(!1),d.data.Success?(O(l.json),d.data.resultList&&d.data.resultList.length?(Y(d.data.resultList.length),E(d.data.resultList)):M("No Candidates with this filter","error")):M(d.data.message,"error")}))}else M("At least One Condition is required. ","error");else if(J.current!==-1){let l=[...c.current],t={...r.values};t.json.splice(J.current,1),l.splice(J.current,1),J.current=-1;for(let a=0;a<t.json.length;a++)t.json[a].stageId&&(t.json[a].stageTypeId=b.current[Number(t.json[a].stageId)]),t.json[a].isShown=!1;r.setFieldValue("json",t.json),c.current=[...l],re()}else M("Please enter all required Fields","error")},ne=(l,t,a)=>{console.log(a);let u=[...r.values.json];a&&(u[l].fieldValue=a);let d=r.values.json[l].fieldValue;if(c.current[l]&&r.values.json[l].fieldValue)if(c.current[l].questionSelectedId=d,b.current[Number(r.values.json[l].stageId)]==="3"&&c.current[l]&&c.current[l].id){let N=c.current[l].json.find(W=>W.name===r.values.json[l].fieldValue);c.current[l].questionType=N?N==null?void 0:N.Type:"",c.current[l].questionType==="radio"?c.current[l].questionValues=N&&N.choices?N.choices:[]:c.current[l].questionType==="dropdown"?c.current[l].questionValues=N&&N.choices?N.choices:[]:c.current[l].questionValues=[],t&&(u[l].fieldType=c.current[l].questionType)}else b.current[Number(r.values.json[l].stageId)]==="1"?t&&(a==="1"?u[l].fieldType="dropdown":a==="1"?u[l].fieldType="number":u[l].fieldType=""):b.current[Number(r.values.json[l].stageId)]==="8"||b.current[Number(r.values.json[l].stageId)]==="9"?t&&(u[l].fieldType="radio"):c.current[l]&&(c.current[l].questionType="",t&&(u[l].fieldType=c.current[l].questionType));else c.current[l]&&(c.current[l].questionType="",t&&(u[l].fieldType=c.current[l].questionType));(b.current[Number(r.values.json[l].stageId)]==="8"||b.current[Number(r.values.json[l].stageId)]==="9")&&(u[l].fieldType="radio",u[l].fieldValue=b.current[Number(r.values.json[l].stageId)]==="8"?"Webinar":"Scheduling"),r.setFieldValue("json",u)},be=l=>{if(b.current[Number(r.values.json[l].stageId)]==="8"||b.current[Number(r.values.json[l].stageId)]==="9")return"radio";if(r.values.json[l]&&r.values.json[l].fieldValue){let t=r.values.json[l].fieldValue;if(b.current[Number(r.values.json[l].stageId)]==="1")return r.values.json[l].fieldValue==="1"?"dropdown":r.values.json[l].fieldValue===2?"number":"";if(b.current[Number(r.values.json[l].stageId)]==="12")return r.values.json[l].fieldValue==="JB-XDXQ65RS1"?"dropdown":"number";if(c.current[l]&&r.values.json[l].fieldValue){if(c.current[l].questionSelectedId=t,b.current[Number(r.values.json[l].stageId)]==="3"&&c.current[l]&&c.current[l].id){let a=c.current[l].json.find(u=>u.name===r.values.json[l].fieldValue);return a?a==null?void 0:a.Type:""}else if(c.current[l])return""}else if(c.current[l])return""}else return""},S=l=>{switch(be(l)){case"number":return[{value:"=",name:"is equal to"},{value:"!=",name:"is not equal to"},{value:"<",name:"is lower than"},{value:">",name:"is greater than"},{value:"<=",name:"is lower or equal to"},{value:">=",name:"is greater or equal than"}];case"date":return[{value:"=",name:"is on"},{value:"!=",name:"is not on"},{value:"<",name:"is before"},{value:">",name:"is after"},{value:"<=",name:"is before or on"},{value:">=",name:"is after or on"}];case"checkbox":case"radio":case"dropdown":return[{value:"=",name:"is"},{value:"!=",name:"is not"}];case"textarea":case"text":default:return[{value:"=",name:"is equal to"},{value:"!=",name:"is not equal to"},{value:"**",name:"contains"},{value:"!*",name:"does not contain"}]}},ye=(l,t)=>{let u=S(l).find(d=>d.value===t);return u&&u.name?u.name:""},z=l=>{if(!L.current||!l){L.current=l;let t=[...r.values.json];r.setFieldValue("json",t)}};return f.useEffect(()=>{ae.current?ae.current=!1:T(),console.log("check load")},[]),e.jsxDEV("div",{className:"FilterStage",children:H?e.jsxDEV(h,{children:[e.jsxDEV(R,{variant:"text",color:"primary",size:"small",startIcon:e.jsxDEV(It,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:814,columnNumber:36},void 0),className:"ml-5 tt-none",onClick:()=>z(!0),title:"Add Condition",children:"Filter Candidates"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:810,columnNumber:21},void 0),U?e.jsxDEV(gt,{badgeContent:U,color:"error",className:"mr-4 ml-2"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:824,columnNumber:29},void 0):null,e.jsxDEV(h,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"d-none",children:[e.jsxDEV(h,{className:"editGridFilter p-2 ",onClick:()=>z(!0),sx:{display:"inline-flex"},children:[e.jsxDEV("span",{className:"editFilter",children:[r.values.recrNames&&(g!=null&&g.length)?e.jsxDEV("span",{children:["Recruiters: ",r.values.recrNames]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:845,columnNumber:41},void 0):null,g!=null&&g.length?g.map((l,t)=>e.jsxDEV("div",{children:e.jsxDEV(h,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",className:"my-3 ",sx:{display:"inline-block"},children:[t===0?e.jsxDEV(h,{sx:{width:"65px",display:"inline-block"},className:"pt-5 pl-3 ifText"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:865,columnNumber:69},void 0):e.jsxDEV(Re,{variant:"body1",sx:{width:"65px",display:"inline-block"},className:`pl-3 ${g[t-1].condition?"":"d-none"}`,children:g[t-1].condition==="&&"?"AND":"OR"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:869,columnNumber:69},void 0),e.jsxDEV("span",{className:`pr-3 fw-6 ${ce(t,g[t].stageId,"stageId")==="Assessment"?"mr-5 ":""} ${g[t].stageId?"":"d-none"}`,children:ce(t,g[t].stageId,"stageId")},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:873,columnNumber:61},void 0),e.jsxDEV("span",{className:`pr-3 ${g[t].fieldValue?"":"d-none"}`,children:[e.jsxDEV("span",{className:"pr-4 c-grey fw-6",children:" - "},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:877,columnNumber:65},void 0),ce(t,g[t].fieldValue,"fieldValue")]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:876,columnNumber:61},void 0),e.jsxDEV("span",{className:`pr-3 c-grey ${g[t].compare?"":"d-none"}`,children:ye(t,g[t].compare)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:879,columnNumber:61},void 0),e.jsxDEV("span",{className:`pl-3 ${g[t].compareValue?"":"d-none"}`,children:g[t].compareValue},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:882,columnNumber:61},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:856,columnNumber:57},void 0)},`displayCondition${t}`,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:855,columnNumber:53},void 0)):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:842,columnNumber:29},void 0),g!=null&&g.length?e.jsxDEV(Ve,{"aria-label":"Edit",className:"editIcon pl-4 py-0",onClick:()=>z(!0),children:e.jsxDEV(ht,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:904,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:899,columnNumber:37},void 0):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:841,columnNumber:25},void 0),e.jsxDEV(h,{children:g!=null&&g.length?e.jsxDEV(R,{"aria-label":"Cancel",className:"pl-4 py-0",onClick:()=>{O([]),E([])},variant:"outlined",color:"secondary",children:"Clear"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:914,columnNumber:37},void 0):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:910,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:833,columnNumber:21},void 0),e.jsxDEV(rt,{open:L.current,className:"filterDialog",maxWidth:"sm",sx:{".MuiDialog-container.MuiDialog-scrollPaper":{justifyContent:"end",alignItems:"start","& .MuiDialog-paper":{maxHeight:"calc(100vh)"},"& .MuiPaper-root":{margin:0}}},children:[e.jsxDEV(Ft,{className:"py-2",children:e.jsxDEV(h,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxDEV("span",{className:"pr-2",children:"Filter Candidates "},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:952,columnNumber:33},void 0),e.jsxDEV("span",{onClick:()=>z(!1),className:"closePopup",children:e.jsxDEV(qe,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:954,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:953,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:946,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:945,columnNumber:25},void 0),e.jsxDEV(Pe,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:958,columnNumber:25},void 0),e.jsxDEV(lt,{className:"dialogContent",children:e.jsxDEV(jt,{onSubmit:re,initialValues:r.initialValues,enableReinitialize:!0,children:({})=>e.jsxDEV(kt,{placeholder:e.jsxDEV(e.Fragment,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:969,columnNumber:58},void 0),children:[e.jsxDEV(h,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:971,columnNumber:45},void 0),e.jsxDEV("div",{className:"mb-3",children:e.jsxDEV("div",{children:[e.jsxDEV(Oe,{id:"recruiter",handleChange:(l,t)=>{r.setFieldValue("recrNames",t),r.setFieldValue("recrIds",l)},valuePassed:r.values.recrIds?{label:r.values.recrNames,id:r.values.recrIds}:{},isMultiple:!0,width:"100%",type:"id",placeholder:"Recruiter Name"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:981,columnNumber:53},void 0),e.jsxDEV(St,{name:"json",children:({})=>e.jsxDEV("div",{children:r.values.json.map((l,t)=>e.jsxDEV(h,{container:!0,spacing:1,className:`mb-4 pt-2 ${t===0?"mt-4":""}`,sx:{backgroundColor:"#f1f5fa",boxShadow:"none"},children:e.jsxDEV(h,{size:"grow",className:"mt-2 ",children:e.jsxDEV(h,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"start",rowSpacing:1,children:[e.jsxDEV(h,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"start",children:[e.jsxDEV(h,{sx:{width:"100px"},className:`${t===r.values.json.length-1?"v-hidden":""}`,children:e.jsxDEV(Et,{color:"primary",value:l.condition,exclusive:!0,onChange:(a,u)=>{r.setFieldValue(`json[${t}].condition`,u)},"aria-label":"condition",size:"small",children:[e.jsxDEV(Ae,{value:"&&",children:"AND"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1046,columnNumber:109},void 0),e.jsxDEV(Ae,{value:"||",sx:{width:40},children:"OR"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1047,columnNumber:109},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1038,columnNumber:105},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1037,columnNumber:101},void 0),e.jsxDEV(h,{size:"auto",sx:{width:"45px"},children:e.jsxDEV(Ve,{onClick:a=>_(t),className:`${r.values.json.length===1?"d-none":""}`,children:e.jsxDEV(wt,{className:"c-red"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1068,columnNumber:109},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1066,columnNumber:105},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1065,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1030,columnNumber:97},void 0),e.jsxDEV(h,{sx:{width:330},children:[e.jsxDEV(A,{size:"small",id:`stageId${t}`,select:!0,value:l.stageId,onChange:a=>{p(a.target.value,t)},name:`json[${t}].stageId`,fullWidth:!0,label:"Stage",children:[e.jsxDEV(x,{value:""},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1090,columnNumber:105},void 0),j.current.map((a,u)=>e.jsxDEV(x,{value:a.stageId,children:a.title?a.title:a.name},a.stageId,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1094,columnNumber:124},void 0))]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1073,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:r,name:"json",array:[t+"","stageId"],isFormSubmitted:I},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1099,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1072,columnNumber:97},void 0),e.jsxDEV(h,{sx:{width:330},className:`${r.values.json[t].stageId?"":"d-none"}`,children:[e.jsxDEV(A,{size:"small",id:`fieldValue${t}`,select:!0,value:l.fieldValue,onChange:a=>{ne(t,!0,a.target.value)},name:`json[${t}].fieldValue`,fullWidth:!0,label:`${b.current[Number(r.values.json[t].stageId)]==="1"?"Trigger":b.current[Number(r.values.json[t].stageId)]==="12"?"Assessment":b.current[Number(r.values.json[t].stageId)]==="3"?"Question":b.current[Number(r.values.json[t].stageId)]==="8"?"Webinar":b.current[Number(r.values.json[t].stageId)]==="9"?"Scheduling":""}`,children:[e.jsxDEV(x,{value:""},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1130,columnNumber:105},void 0),c.current&&c.current[t]?b.current[Number(r.values.json[t].stageId)]==="12"?c.current[t].assessments?c.current[t].assessments.map((a,u)=>e.jsxDEV(x,{value:a.assessmentsId,children:[a.name," ",a.assessmentType?`(${a.assessmentType})`:""]},a.assessmentsId,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1137,columnNumber:132},void 0)):null:b.current[Number(r.values.json[t].stageId)]==="3"&&c.current[t]&&c.current[t].id?c.current[t].json?c.current[t].json.map((a,u)=>e.jsxDEV(x,{value:a.name,children:a.labelName},a.name,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1147,columnNumber:136},void 0)):null:b.current[Number(r.values.json[t].stageId)]==="1"?c.current[t].states?c.current[t].states.map((a,u)=>e.jsxDEV(x,{value:a.id,children:a.name},a.id,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1154,columnNumber:140},void 0)):null:b.current[Number(r.values.json[t].stageId)]==="8"?e.jsxDEV(x,{value:"Webinar",selected:!0,children:"Webinar"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1159,columnNumber:129},void 0):b.current[Number(r.values.json[t].stageId)]==="9"?e.jsxDEV(x,{value:"Scheduling",selected:!0,children:"Scheduling"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1163,columnNumber:133},void 0):null:null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1105,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:r,name:"json",array:[t+"","fieldValue"],isFormSubmitted:I},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1170,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1101,columnNumber:97},void 0),e.jsxDEV(h,{sx:{width:330},className:`${r.values.json[t].fieldValue||b.current[Number(r.values.json[t].stageId)]==="8"||b.current[Number(r.values.json[t].stageId)]==="9"?"":"d-none"}`,children:[e.jsxDEV(A,{size:"small",id:`compare${t}`,select:!0,value:l.compare,onChange:r.handleChange,name:`json[${t}].compare`,fullWidth:!0,children:[e.jsxDEV(x,{value:""},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1186,columnNumber:105},void 0),S(t).map(a=>e.jsxDEV(x,{value:a.value,children:a.name},a.value,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1190,columnNumber:124},void 0))]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1177,columnNumber:101},void 0),e.jsxDEV(fe,{formikObj:r,name:"json",array:[t+"","compare"],isFormSubmitted:I},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1195,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1173,columnNumber:97},void 0),e.jsxDEV(h,{sx:{width:330},className:`${r.values.json[t].compare?"":"d-none"}`,children:[r.values.json[t].fieldValue==="JB-XDXQ65RS1"&&b.current[Number(r.values.json[t].stageId)]==="12"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,children:[e.jsxDEV(x,{value:"Proficient",children:"Proficient"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1211,columnNumber:113},void 0),e.jsxDEV(x,{value:"Highly Proficient",children:"Highly Proficient"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1212,columnNumber:113},void 0),e.jsxDEV(x,{value:"Not Proficient",children:"Not Proficient"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1213,columnNumber:113},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1202,columnNumber:109},void 0):r.values.json[t].fieldType==="number"||b.current[Number(r.values.json[t].stageId)]==="12"||b.current[Number(r.values.json[t].stageId)]==="1"&&r.values.json[t].fieldValue==="2"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,type:"number"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1217,columnNumber:113},void 0):null,r.values.json[t].fieldType==="text"||r.values.json[t].fieldType==="textarea"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,type:"text"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1233,columnNumber:109},void 0):null,r.values.json[t].fieldType==="email"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,type:"email"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1250,columnNumber:109},void 0):null,r.values.json[t].fieldType==="date"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,type:"date"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1266,columnNumber:109},void 0):null,r.values.json[t].fieldType==="radio"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,children:[c.current[t]&&c.current[t].questionValues?c.current[t].questionValues.map((a,u)=>e.jsxDEV(x,{value:a.value,children:a.name},a.value,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1295,columnNumber:132},void 0)):null,b.current[Number(r.values.json[t].stageId)]==="8"?$.map(a=>e.jsxDEV(x,{value:a,children:a},a,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1304,columnNumber:132},void 0)):null,b.current[Number(r.values.json[t].stageId)]==="9"?se.map(a=>e.jsxDEV(x,{value:a,children:a},a,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1312,columnNumber:132},void 0)):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1282,columnNumber:109},void 0):null,r.values.json[t].fieldType==="dropdown"?b.current[Number(r.values.json[t].stageId)]==="12"||b.current[Number(r.values.json[t].stageId)]==="3"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,children:c.current[t]&&c.current[t].questionValues?c.current[t].questionValues.map((a,u)=>e.jsxDEV(x,{value:a.value,children:a.name},a.value,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1337,columnNumber:136},void 0)):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1324,columnNumber:113},void 0):b.current[Number(r.values.json[t].stageId)]==="1"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:Array.isArray(l.compareValue)?l.compareValue:l.compareValue.split(","),onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,SelectProps:{multiple:!0},children:Te?Te.map((a,u)=>e.jsxDEV(x,{value:a.id,children:a.label},a.id,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1366,columnNumber:140},void 0)):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1346,columnNumber:117},void 0):null:null,r.values.json[t].fieldType==="checkbox"?e.jsxDEV(A,{size:"small",id:`compareValue${t}`,value:l.compareValue,onChange:r.handleChange,name:`json[${t}].compareValue`,fullWidth:!0,select:!0,children:[e.jsxDEV(x,{value:1,children:"Is Checked"},1,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1391,columnNumber:113},void 0),e.jsxDEV(x,{value:0,children:"Is Not Checked"},0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1392,columnNumber:113},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1381,columnNumber:109},void 0):null,e.jsxDEV(fe,{formikObj:r,name:"json",array:[t+"","compareValue"],isFormSubmitted:I},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1397,columnNumber:101},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1197,columnNumber:97},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1023,columnNumber:93},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1017,columnNumber:89},void 0)},`condition${t}`,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1005,columnNumber:85},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:999,columnNumber:65},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:994,columnNumber:53},void 0),e.jsxDEV(h,{container:!0,spacing:1,className:"my-3",children:e.jsxDEV(R,{variant:"text",color:"primary",startIcon:e.jsxDEV(Nt,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1411,columnNumber:107},void 0),onClick:te,children:"Add Filter"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1411,columnNumber:57},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1410,columnNumber:53},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:980,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:979,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:968,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:961,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:959,columnNumber:25},void 0),e.jsxDEV(Pe,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1492,columnNumber:25},void 0),e.jsxDEV(ot,{children:e.jsxDEV(h,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",children:[e.jsxDEV(R,{color:"primary",variant:"contained",type:"submit",className:"mt-3 mr-2",size:"small",onClick:re,children:"Apply"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1500,columnNumber:33},void 0),e.jsxDEV(R,{color:"primary",variant:"outlined",type:"button",className:"mt-3 mr-2",size:"small",onClick:()=>z(!1),children:"Cancel"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1512,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1494,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:1493,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:931,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:809,columnNumber:17},void 0):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/FilterStage/FilterStage.tsx",lineNumber:803,columnNumber:12},void 0)},Ot=({moreMenuData:i,moveToStage:P})=>{const[y,F]=f.useState(null),E=!!y,H=I=>{F(I.currentTarget)},V=()=>{F(null)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(R,{size:"small",id:`more-button-${i.candid}`,"aria-controls":E?`more-menu-${i.candid}`:void 0,"aria-haspopup":"true","aria-expanded":E?"true":void 0,onClick:H,children:e.jsxDEV(Tt,{className:"fs-16"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:27,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:19,columnNumber:9},void 0),e.jsxDEV(we,{id:`more-menu-${i.candid}`,anchorEl:y,open:E,onClose:V,MenuListProps:{"aria-labelledby":`more-button-${i.candid}`},children:i.nextStageList.map(I=>e.jsxDEV(x,{onClick:()=>{V(),P(I.stageId)},children:I.title?I.title:I.name},I.stageId,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:40,columnNumber:28},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/MoreMenuButton.tsx",lineNumber:18,columnNumber:12},void 0)},zt=50,Kt=({masterStagesList:i,selectedStage:P,stageIds:y,totalCount:F,workflowData:E,refetchData:H})=>{const{jobId:V}=$e(),[I,Z]=f.useState([]),[U,Y]=f.useState(!1),[ae,c]=f.useState(""),[j,ue]=f.useState(""),[$,se]=f.useState(!1),[b,L]=f.useState(!1),J=f.useRef(""),[ee,g]=f.useState({id:"",name:""}),O=f.useRef(""),r=C.checkIntegration(40005)&&C.checkIntegration(400020),[p,w]=f.useState([]),T=f.useRef(null),[te,_]=f.useState(!1),ce=o=>{J.current=o,L(!0)},re=(o,m)=>{navigator.clipboard.writeText(o),M(m+" Copied","success")},ne=()=>{const o=Object.keys(B).filter(m=>B[m]);if(o.length===1){const m=o[0],v=le.find(k=>k.candid===m);v&&(c(v.email),ue(v.candname),se(!1),Y(!0))}else o.length>1&&(c(""),ue(""),se(!0),Y(!0))},be=f.useMemo(()=>[],[]),S=f.useMemo(()=>[],[]),ye=f.useRef(null),z=f.useRef(null),[l,t]=f.useState([]),[a,u]=f.useState(),[d,N]=f.useState([]),[W,ie]=f.useState(!1),[B,s]=f.useState({}),{data:n,fetchNextPage:D,isError:Q,isFetching:pe,isLoading:ze,refetch:Ne}=ft({queryKey:["table-data",l,a,d],queryFn:async({pageParam:o=0})=>{const m=O.current?await q.getByParams(193,"Curately/Workflow/workflow_applicants_view_single.jsp",{workflow_job_cand_id:O.current,clientId:C.getvalue("clientId")}):await q.getByParams(193,"Curately/Workflow/workflow_applicants_view.jsp",{jobId:V,stageId:P.stageId,pageSize:zt,pageIndex:o*50,candIds:de.current.join(),clientId:C.getvalue("clientId")});let k=(await st.parseApplicantsData(m.data,i)).applicants;return k!=null&&k.length&&w(k[0].nextStageList),o===0&&(S.length=0,await Ke()),{data:k}},getNextPageParam:(o,m)=>m.length,keepPreviousData:!0,refetchOnWindowFocus:!1}),Ke=async()=>{if(!S.length){S.push({accessorKey:"name",header:"Name",size:250,Cell:({row:o})=>o.original.candname?e.jsxDEV(h,{children:[e.jsxDEV("span",{className:"hightLightTd fs-13",onClick:()=>ce(o.original.candid),children:o.original.candname.toLowerCase()},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:281,columnNumber:29},void 0),o.original.email&&o.original.email.trim()?e.jsxDEV(Fe,{className:"py-0 pl-0",secondaryAction:e.jsxDEV(Ie,{className:"cursor-pointer fs-16",onClick:m=>{m.stopPropagation(),re(o.original.email,"Email")}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:287,columnNumber:45},void 0),children:[e.jsxDEV(Ee,{sx:{minWidth:"20px !important"},children:e.jsxDEV(yt,{className:"fs-16"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:296,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:295,columnNumber:41},void 0),e.jsxDEV(Me,{className:"m-0",sx:{color:"#007bff"},primary:e.jsxDEV("span",{className:"fs-13",children:[o.original.email," "]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:301,columnNumber:54},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:298,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:284,columnNumber:37},void 0):null,o.original.phoneno&&o.original.phoneno.trim()?e.jsxDEV(Fe,{className:"py-0 pl-0",secondaryAction:e.jsxDEV(Ie,{className:"cursor-pointer fs-16",onClick:m=>{m.stopPropagation(),re(o.original.phoneno,"Phone Number")}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:312,columnNumber:45},void 0),children:[e.jsxDEV(Ee,{sx:{minWidth:"20px !important"},children:e.jsxDEV(Mt,{className:"fs-16 mt-1"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:321,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:320,columnNumber:41},void 0),e.jsxDEV(Me,{className:"m-0",sx:{color:"#007bff"},primary:e.jsxDEV("span",{className:"fs-13",children:[o.original.phoneno," "]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:326,columnNumber:54},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:323,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:309,columnNumber:37},void 0):null,e.jsxDEV(_t,{className:"mt-1",variant:"outlined","aria-label":"outlined button group",size:"small",children:[o.original.candtoken?e.jsxDEV(De,{title:"Copy Candidate Link",children:e.jsxDEV(R,{size:"small",onClick:m=>{m.stopPropagation(),re("https://app.curately.ai/workflow/#/stages/"+o.original.candtoken,"Candidate Link")},children:e.jsxDEV(nt,{className:"fs-16"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:341,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:336,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:335,columnNumber:41},void 0):null,y.rejected&&o.original.stageid&&y.rejected!==o.original.stageid?e.jsxDEV(De,{title:"Reject",children:e.jsxDEV(R,{size:"small",onClick:()=>{xe("Are you sure you want to move the candidate to Rejected Stage?",()=>{K.current=o.original,me(y.rejected)},"warning"),Se()},children:e.jsxDEV(qe,{className:"fs-16"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:359,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:350,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:349,columnNumber:41},void 0):null,o.original.nextStageId&&y.approved&&y.approved!==o.original.stageid?e.jsxDEV(De,{title:"Move to Next Stage",children:e.jsxDEV(R,{size:"small",onClick:()=>{xe("Are you sure you want to move the candidate to Next Stage?",()=>{K.current=o.original,me(o.original.nextStageId)},"warning"),Se()},children:e.jsxDEV(qt,{className:"fs-16"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:378,columnNumber:49},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:368,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:367,columnNumber:41},void 0):null,o.original.nextStageList&&o.original.nextStageList.length?e.jsxDEV(Ot,{moreMenuData:o.original,moveToStage:m=>{K.current=o.original,me(m)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:386,columnNumber:41},void 0):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:332,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:280,columnNumber:25},void 0):null}),S.push({accessorKey:"recruiter",header:"Recruiter",Cell:({...o})=>X("").recruiter(o.row.original)}),S.push({accessorKey:"stages",header:"Stages",Cell:({...o})=>X("").stagesList(o.row.original)});for(let o=0;o<i.length;o++)i[o].stageTypeId==="3"?S.push({accessorKey:"dataCollection"+i[o].stageId,header:i[o].title?i[o].title:i[o].name,Cell:({...m})=>X(i[o].stageId).dataCollection(m.row.original),minSize:250}):i[o].stageTypeId==="15"?S.push({accessorKey:"documentSigning"+i[o].stageId,header:i[o].title?i[o].title:i[o].name,Cell:({...m})=>X(i[o].stageId).documentSigning(m.row.original)}):i[o].stageTypeId==="10"?S.push({accessorKey:"videoRecordings"+i[o].stageId,header:i[o].title?i[o].title:i[o].name,minSize:250,Cell:({row:m})=>e.jsxDEV("div",{className:"videoRecordingDiv",children:m.original["videoRecordingsList_"+i[o].stageId]&&m.original["videoRecordingsList_"+i[o].stageId].length?m.original["videoRecordingsList_"+i[o].stageId].map(v=>e.jsxDEV(h,{children:[e.jsxDEV("label",{className:"fw-7 questionLabel",children:v.question},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:453,columnNumber:49},void 0),e.jsxDEV("div",{children:[" ",e.jsxDEV(ut,{onClick:()=>Ue(v.videolink),className:"cursor-pointer c-grey"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:454,columnNumber:55},void 0)," "]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:454,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:452,columnNumber:232},void 0)):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:449,columnNumber:33},void 0)}):i[o].stageTypeId==="9"?S.push({accessorKey:"scheduler"+i[o].stageId,header:i[o].title?i[o].title:i[o].name,Cell:({...m})=>X(i[o].stageId).scheduler(m.row.original)}):i[o].stageTypeId==="12"?S.push({accessorKey:"assessmnets"+i[o].stageId,header:i[o].title?i[o].title:i[o].name,Cell:({...m})=>X(i[o].stageId).assessment(m.row.original)}):i[o].stageTypeId==="8"?S.push({accessorKey:"webinar"+i[o].stageId,header:i[o].title?i[o].title:i[o].name,Cell:({...m})=>X(i[o].stageId).webinar(m.row.original)}):i[o].stageTypeId==="14"?S.push({accessorKey:"systemChecker"+i[o].stageId,header:i[o].title?i[o].title:i[o].name,Cell:({...m})=>X(i[o].stageId).systemChecker(m.row.original)}):i[o].stageTypeId}},le=f.useMemo(()=>(n==null?void 0:n.pages.flatMap(o=>o.data))??[],[n]),He=o=>{if(o.target.checked){let m={},v=le;for(let k=0;k<le.length;k++)m[v[k].candid]=!0;s(m)}else s({});ie(o.target.checked)},de=f.useRef([]),ge=O.current?1:de.current.length?de.current.length:F??0,he=le.length,Le=f.useCallback(o=>{if(o){const{scrollHeight:m,scrollTop:v,clientHeight:k}=o;m-v-k<400&&!pe&&he<ge&&D()}},[D,pe,he,ge]);f.useEffect(()=>{var o,m;le.length&&((m=(o=z.current)==null?void 0:o.scrollToIndex)==null||m.call(o,0)),Z(Object.keys(B))},[B]),f.useEffect(()=>{var o,m;try{(m=(o=z.current)==null?void 0:o.scrollToIndex)==null||m.call(o,0)}catch(v){console.error(v)}},[d,l,a]);const K=f.useRef({}),[Qe,ve]=f.useState(!1),[je,Ge]=f.useState(""),[Xe,Ze]=f.useState(null),ke=!!Xe;f.useEffect(()=>{console.log(ke)},[ke]);const Se=()=>{Ze(null)},Ue=o=>{o&&(Ye(o)||o.includes("cameratag.com"))?(Ge(o),ve(!0)):M("In Valid URL.","error")},Ye=o=>{var m=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!m.test(o)},me=o=>{let m={workflow_job_cand_id:K.current.workflow_job_cand_id,candid:K.current.candid,fromstage:K.current.stageid,tostage:o,recrid:C.getvalue("recrId"),clientId:C.getvalue("clientId")};oe(q.getByParams(193,"Curately/Workflow/workflow_candidate_next_stage.jsp",{workflow_job_cand_id:K.current.workflow_job_cand_id,stageId:K.current.stageid,stageNumber:K.current.position,stageId1:o,clientId:C.getvalue("clientId")}).then(v=>{v.data.message==="Success"?q.postWithData("admin","applicantsStagesMoveLogs",m).then(k=>{k.data.Success?(Ne(),H()):M(k.data.message,"error")}):M(v.data.message,"error")}))},et=o=>{de.current=o,Ne()},tt=o=>{let m=Object.entries(B).filter(([v,k])=>k).map(([v])=>v);if(_(!1),m!=null&&m.length){let v=le.find(k=>k.candid.toString()===m[0].toString());K.current=v,me(o)}};return e.jsxDEV(e.Fragment,{children:[S.length?e.jsxDEV(it,{enableStickyHeader:!0,columns:S.length?S:be,data:le,enablePagination:!1,enableRowSelection:!0,enableRowVirtualization:!0,manualFiltering:!0,manualSorting:!0,renderTopToolbar:e.jsxDEV("div",{children:e.jsxDEV(h,{container:!0,direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsxDEV(h,{children:e.jsxDEV(We,{direction:"row",children:[e.jsxDEV(Jt,{className:"select-all-checkbox ml-3 p-1",disableRipple:!0,color:"default",checked:W,onChange:He},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:707,columnNumber:45},void 0),r?e.jsxDEV(R,{variant:"outlined",color:"secondary",className:"mr-2",disabled:!(Object.keys(B).length>0),onClick:ne,startIcon:e.jsxDEV(At,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:716,columnNumber:68},void 0),children:"Blast Email"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:710,columnNumber:53},void 0):null,e.jsxDEV(R,{variant:"outlined",color:"secondary",className:"mr-2",disabled:Object.keys(B).length!==1,onClick:()=>{_(!0)},endIcon:e.jsxDEV(Rt,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:733,columnNumber:62},void 0),ref:T,children:"Move To"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:725,columnNumber:49},void 0),!!(p!=null&&p.length)&&e.jsxDEV(we,{open:te,onClose:()=>{_(!1)},anchorEl:T.current,children:p.map((o,m)=>e.jsxDEV(x,{onClick:()=>tt(o.stageId),children:o.title?o.title:o.name},m,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:746,columnNumber:53},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:740,columnNumber:74},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:706,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:705,columnNumber:37},void 0),e.jsxDEV(h,{children:e.jsxDEV(We,{direction:"row",alignItems:"center",children:[e.jsxDEV("div",{className:"mr-5",children:P.stageId?e.jsxDEV($t,{currentStageId:P.stageId,passedStageData:{},stagesList:i,workflowData:E,sendCandIds:et},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:756,columnNumber:57},void 0):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:753,columnNumber:45},void 0),e.jsxDEV(Oe,{id:"workflowCandidate",handleChange:(o,m)=>{g({id:o,name:m}),O.current=o||"",Ne(),s({})},valuePassed:ee.id?{label:ee.name,id:ee.id}:{},isMultiple:!1,textToShow:"Search Candidate",width:"250px",type:"workflowCandidate",placeholder:"Select Candidate",jobId:V,className:"mb-1 pr-2 pt-1"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:761,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:752,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:751,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:699,columnNumber:33},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:698,columnNumber:29},void 0),muiTableContainerProps:{ref:ye,sx:{maxHeight:"600px"},onScroll:o=>Le(o.target)},muiToolbarAlertBannerProps:Q?{color:"error",children:"Error loading data"}:void 0,initialState:{density:"compact",showGlobalFilter:!1},onColumnFiltersChange:t,onGlobalFilterChange:u,onSortingChange:N,enableGlobalFilterModes:!1,renderBottomToolbarCustomActions:()=>e.jsxDEV(Re,{children:[he," of ",ge]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:815,columnNumber:29},void 0),state:{columnFilters:l,globalFilter:a,isLoading:ze,showAlertBanner:Q,showProgressBars:pe,sorting:d,rowSelection:B},onRowSelectionChange:s,rowVirtualizerInstanceRef:z,rowVirtualizerOptions:{overscan:4},getRowId:o=>o.candid,icons:{ArrowDownwardIcon:o=>e.jsxDEV(bt,{...o},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:835,columnNumber:64},void 0)},layoutMode:"semantic"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:687,columnNumber:21},void 0):null,je?e.jsxDEV(Ct,{url:je,open:Qe,closePopup:()=>ve(!1)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:844,columnNumber:21},void 0):null,U&&e.jsxDEV(pt,{dialogOpen:U,onClose:()=>Y(!1),name:j,emailId:ae,isBulkEmail:$,jobId:V},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:850,columnNumber:29},void 0),b?e.jsxDEV(Pt,{candidateId:J.current,closePopup:()=>L(!1),jobId:V||"",open:b},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:881,columnNumber:21},void 0):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:684,columnNumber:9},void 0)},Ht=new mt,Lt=({masterStagesList:i,selectedStage:P,stageIds:y,totalCount:F,workflowData:E,refetchData:H})=>e.jsxDEV(dt,{client:Ht,children:e.jsxDEV(Kt,{masterStagesList:i,selectedStage:P,stageIds:y,totalCount:F,workflowData:E,refetchData:H},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:907,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/VirtualScrollWorkflow.tsx",lineNumber:906,columnNumber:5},void 0),Kl=()=>{var O;const{jobId:i}=$e(),[P,y]=f.useState(null),F=!!P;f.useEffect(()=>{console.log(F)},[F]);const[E,H]=f.useState({jobid:"",workflowName:"",workflow_job_id:"",workflowId:""}),[V,I]=f.useState({rejected:"",approved:"",onHold:""}),[Z,U]=f.useState({stageTypeId:"",noOfCandidates:"",name:"",position:"",title:"",stageId:"",countToShow:"",isCountLoading:!1}),[Y,ae]=f.useState(!1),c=(r,p)=>{console.log(p),ae(p)},[j,ue]=f.useState({}),[$,se]=f.useState([]),b=()=>{y(null)},L=()=>{oe(q.getByParams(193,"Curately/Workflow/workflow_job_stages_list.jsp",{jobId:i,clientId:C.getvalue("clientId")}).then(r=>{H({jobid:r.data.jobid,workflowName:r.data.workflowName,workflow_job_id:r.data.workflow_job_id,workflowId:r.data.workflowId});let p=r.data.stages;if(p=p.sort((w,T)=>parseFloat(w.position)-parseFloat(T.position)),p=p.filter(w=>w.stageTypeId!=="1"&&w.stageTypeId!=="11"),p&&p.length){let w=p.find(_=>_.stageTypeId==="6"),T=p.find(_=>_.stageTypeId==="7"),te=p.find(_=>_.stageTypeId==="2");I({rejected:w&&w.stageId?w.stageId:"",onHold:T&&T.stageId?T.stageId:"",approved:te&&te.stageId?te.stageId:""})}for(let w=0;w<p.length;w++)p[w].isCountLoading=!0;J(p),setTimeout(()=>{},250)}))},J=async r=>{console.log(r);for(let p=0;p<r.length;p++)r[p].countToShow||await oe(q.getByParams(193,"Curately/Workflow/workflow_applicants_view_count.jsp",{jobId:i,stageId:r[p].stageId,clientId:C.getvalue("clientId")}).then(w=>{r[p].countToShow=w.data.totalSize,r[p].isCountLoading=!1}));console.log(r),se(r)},ee=r=>{let p={workflow_job_cand_id:j.workflow_job_cand_id,candid:j.candid,fromstage:j.stageid,tostage:r,recrid:C.getvalue("recrId"),clientId:C.getvalue("clientId")};oe(q.getByParams(193,"Curately/Workflow/workflow_candidate_next_stage.jsp",{workflow_job_cand_id:j.workflow_job_cand_id,stageId:j.stageid,stageNumber:j.position,stageId1:r,clientId:C.getvalue("clientId")}).then(w=>{w.data.message==="Success"?q.postWithData("admin","applicantsStagesMoveLogs",p).then(T=>{T.data.Success||M(T.data.message,"error")}):M(w.data.message,"error")}))};f.useEffect(()=>{$.length||L()},[]),f.useEffect(()=>{console.log($)},[$]),f.useEffect(()=>{console.log(E)},[E]);function g(r){return{id:`sourceTabs-${r}`,"aria-controls":`sourceTabsPanel-${r}`}}return e.jsxDEV("div",{className:"jobWorkflow pr-1",children:[e.jsxDEV(h,{className:"customCard p-0",sx:{minHeight:"auto !important",width:"calc(100% - 16px) !important"},children:[e.jsxDEV(Dt,{value:Y,onChange:c,"aria-label":"View Sourced Tabs",scrollButtons:"auto",variant:"scrollable",id:" viewSourcedTab",children:$.map(r=>e.jsxDEV(xt,{label:e.jsxDEV(h,{container:!0,direction:"column",alignContent:"center",children:r.countToShow>0?e.jsxDEV("div",{className:"statusCount",children:[r.isCountLoading?e.jsxDEV(at,{color:"success"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:278,columnNumber:57},void 0):r.countToShow?e.jsxDEV("span",{children:r.countToShow},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:280,columnNumber:61},void 0):e.jsxDEV("span",{children:""},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:282,columnNumber:61},void 0),e.jsxDEV("div",{className:"statusLabel fw-7",children:r.title?r.title:r.name},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:284,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:275,columnNumber:45},void 0):e.jsxDEV("div",{children:[e.jsxDEV("span",{children:r.countToShow},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:288,columnNumber:49},void 0),e.jsxDEV("div",{className:"statusLabel",children:r.title?r.title:r.name},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:289,columnNumber:49},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:287,columnNumber:45},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:272,columnNumber:33},void 0),...g(0),className:"sourceTab",onClick:()=>{U(r)}},r.stageId,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:269,columnNumber:25},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:267,columnNumber:17},void 0),e.jsxDEV("div",{className:"candidatesList MRTableCustom pl-0",children:$.map(r=>e.jsxDEV("div",{children:r.stageId===Z.stageId?e.jsxDEV(Lt,{masterStagesList:$,selectedStage:Z,stageIds:V,totalCount:Number(r.countToShow),workflowData:E,refetchData:L},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:314,columnNumber:45},void 0):null},r.stageId,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:311,columnNumber:33},void 0))},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:307,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:266,columnNumber:13},void 0),e.jsxDEV(we,{id:"addlistmenu",anchorEl:P,open:F,onClose:b,MenuListProps:{"aria-labelledby":"add-list-btn"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(O=j==null?void 0:j.nextStageList)!=null&&O.length?j==null?void 0:j.nextStageList.map(r=>e.jsxDEV(x,{onClick:()=>{xe(`Are you sure you want to move the candidate to ${r.title?r.title:r.name}?`,()=>{ee(r.stageId)},"warning"),b()},children:r.title?r.title:r.name},r.stageId,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:430,columnNumber:32},void 0)):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:411,columnNumber:13},void 0),e.jsxDEV(Bt,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:449,columnNumber:13},void 0),e.jsxDEV(ct,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:450,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Job/Workflow/Workflow.tsx",lineNumber:265,columnNumber:9},void 0)};export{Kl as default};
