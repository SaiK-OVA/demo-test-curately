import{e as de,j as Q,r as o,W as F,A as $,L as w,k as e,T as g,l as K,S as O,B as U,O as z,V as S,H as ue,I as ye}from"./DAuuuMsE.js";import{M as he}from"./Ez4yizbq.js";import{D as ee}from"./C_IKUwSv.js";import{D as P,A as be}from"./Cg41riQw.js";import{L as fe,D as X,e as Ce,b as ge,c as Y}from"./BZPAOVTJ.js";import{e as De}from"./w5-nO31Y.js";import{L as Ne}from"./CyNs35Qt.js";import{S as pe}from"./B2qHeyhM.js";import{C as xe}from"./9WUULBRn.js";import{C as Se}from"./B7IUApoB.js";import{T as A}from"./BestnZaX.js";import{I as Le}from"./BqtMM88J.js";import{M}from"./OPHguh9D.js";import{T as Z}from"./DbsmdDnd.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./D2Y9uqkR.js";import"./DVyrZ3Lu.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./C4JXEfII.js";import"./DistCVVm.js";import"./Dsukr_f2.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./Br0xRRVu.js";import"./JyAhcbJl.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";import"./IOI02mfF.js";import"./7BYfJRlb.js";import"./D1ftmOk2.js";import"./DwmmMyHW.js";import"./_sSW2cUy.js";import"./BayHs3N0.js";import"./CPvg8iC8.js";const Ee=de([Q.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),Q.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")],"KeyboardDoubleArrowRightOutlined");function ve(){const[a,D]=o.useState({});o.useEffect(()=>{d()},[]);const d=()=>{F($.getById("admin","getCredits",`${w.getvalue("clientId")}/${w.getvalue("recrId")}`).then(c=>{c.data.Success&&D(c.data)}))};return e.jsxDEV("div",{children:[e.jsxDEV(g,{variant:"h6",sx:{fontSize:"14px"},gutterBottom:!0,children:"Show Stats"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:31,columnNumber:13},this),e.jsxDEV(ee,{sx:{mb:1}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:32,columnNumber:13},this),e.jsxDEV(g,{variant:"h6",sx:{mb:1,fontSize:"14px"},children:"Email Credits Summary"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:33,columnNumber:13},this),e.jsxDEV(K,{sx:{display:"flex",flexDirection:"column",gap:1,mb:3},children:[e.jsxDEV(g,{children:`Total Credits: ${(a==null?void 0:a.totalProfileCredits)||0}`},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:35,columnNumber:17},this),e.jsxDEV(g,{children:`Used Credits: ${(a==null?void 0:a.consumedProfileCredits)||0}`},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:38,columnNumber:17},this),e.jsxDEV(g,{children:`Remaining Credits: ${((a==null?void 0:a.totalProfileCredits)||0)-((a==null?void 0:a.consumedProfileCredits)||0)}`},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:39,columnNumber:17},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:34,columnNumber:13},this),e.jsxDEV(g,{variant:"h6",sx:{mb:1,fontSize:"14px"},children:"Phone Credits Summary"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:42,columnNumber:13},this),e.jsxDEV(K,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxDEV(g,{children:`Total Credits: ${(a==null?void 0:a.totalSmsCredits)||0}`},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:44,columnNumber:17},this),e.jsxDEV(g,{children:`Used Credits: ${(a==null?void 0:a.consumedSmsCredits)||0}`},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:47,columnNumber:17},this),e.jsxDEV(g,{children:`Remaining Credits: ${((a==null?void 0:a.totalSmsCredits)||0)-((a==null?void 0:a.consumedSmsCredits)||0)}`},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:48,columnNumber:17},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:43,columnNumber:13},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Stats.tsx",lineNumber:30,columnNumber:9},this)}function Ie(){const[a,D]=o.useState([]),[d,c]=o.useState(0),[E,W]=o.useState(200),[u,q]=o.useState(0),[f,v]=o.useState(!1),[y,C]=o.useState(!1),[p,I]=o.useState(P.now()),[N,j]=o.useState(P.now()),R=async(h,V)=>{const B={clientId:w.getvalue("clientId"),recrId:w.getvalue("recrId"),next:h*V,pageSize:V,startDate:y?p.toFormat("yyyy-MM-dd"):null,endDate:y?N.toFormat("yyyy-MM-dd"):null};if(v(!0),p.startOf("day")>N.startOf("day"))return S("Start Date should be less than End Date.","error"),!1;F($.postWithData("admin","recruiter/creditStats/activity-log",B).then(L=>{var k;if(L.data.Success){const x=((k=L==null?void 0:L.data)==null?void 0:k.recruiterLogList)||[];d>=1?D(T=>[...T,...x]):D([...x]),q(L.data.total||0)}else S(L.data.Message||"An error occurred while fetching logs","error");v(!1)}).catch(()=>{v(!1)}))},H=()=>{C(!1),I(P.now()),j(P.now())};return o.useEffect(()=>{R(d,E)},[d,y]),e.jsxDEV("div",{id:"logs-list",children:[e.jsxDEV(O,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:1,children:[e.jsxDEV(g,{variant:"h6",sx:{fontSize:"14px"},children:"Show Logs"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:76,columnNumber:17},this),!y&&u>9?e.jsxDEV(U,{color:"secondary",variant:"outlined",size:"small",onClick:()=>C(!0),children:"Show more"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:77,columnNumber:50},this):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:75,columnNumber:13},this),e.jsxDEV(ee,{sx:{mb:1}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:79,columnNumber:13},this),y?e.jsxDEV(O,{spacing:.75,mt:1.5,mb:.75,children:[e.jsxDEV(fe,{dateAdapter:be,children:e.jsxDEV(z,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[e.jsxDEV(X,{label:"Start Date",value:p,onChange:h=>{I(h||P.now())},sx:{width:"133px"},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:N},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:88,columnNumber:25},this),e.jsxDEV(X,{label:"End Date",value:N,onChange:h=>{j(h||P.now())},sx:{width:"133px",marginLeft:"4px"},slotProps:{textField:{size:"small",fullWidth:!1,InputProps:{style:{textAlign:"center"}}}},maxDate:P.now()},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:117,columnNumber:25},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:82,columnNumber:21},this)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:81,columnNumber:17},this),e.jsxDEV(O,{direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[e.jsxDEV(U,{variant:"outlined",color:"secondary",sx:{textTransform:"none",height:"24px"},onClick:H,children:"Clear"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:148,columnNumber:21},this),e.jsxDEV(U,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{R(d,E)},children:"Get Data"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:149,columnNumber:21},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:80,columnNumber:23},this):null,e.jsxDEV(De,{disablePadding:!0,sx:{height:`calc(100vh - ${y?"318px":"242px"})`},children:a!=null&&a.length?a.map((h,V)=>e.jsxDEV(Ce,{children:e.jsxDEV(Ne,{primary:h.descr,secondary:new Date(h.actionDate).toLocaleDateString()},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:157,columnNumber:25},this)},V,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:156,columnNumber:21},this)):e.jsxDEV(g,{textAlign:"center",my:6,children:"No logs available"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:160,columnNumber:21},this)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/Logs.tsx",lineNumber:74,columnNumber:9},this)}function je(){const[a,D]=o.useState("Stats"),[d,c]=o.useState(1),E=(W,u)=>{D(u),c(1)};return e.jsxDEV("div",{children:["   ",e.jsxDEV(ue,{sx:{mb:2,boxShadow:"none"},children:[e.jsxDEV(ge,{value:a,onChange:E,sx:{px:1,"& .MuiTab-root":{textTransform:"capitalize"},fontSize:"16px",borderBottom:"1px solid #E0E0E0","& .MuiTab-textColorPrimary":{color:"#000"}},children:[e.jsxDEV(Y,{value:"Stats",label:"Stats"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:31,columnNumber:17},this),e.jsxDEV(Y,{value:"Logs",label:"Logs"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:32,columnNumber:17},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:19,columnNumber:13},this),e.jsxDEV(K,{sx:{mt:0,p:2},children:a==="Stats"?e.jsxDEV(e.Fragment,{children:e.jsxDEV(ve,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:63,columnNumber:25},this)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:62,columnNumber:21},this):e.jsxDEV(Ie,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:66,columnNumber:21},this)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:35,columnNumber:13},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:18,columnNumber:17},this)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/StatsandLogs.tsx",lineNumber:18,columnNumber:9},this)}const ut=()=>{const[a,D]=o.useState(""),[d,c]=o.useState([]),[E,W]=o.useState([]),[u,q]=o.useState("Custom"),[f,v]=o.useState("Custom"),[y,C]=o.useState({}),[p,I]=o.useState(""),[N,j]=o.useState(""),[R,H]=o.useState(""),[h,V]=o.useState({pageIndex:0,pageSize:20}),[B,L]=o.useState(0),[k,x]=o.useState(!1),[T,te]=o.useState(!0);o.useEffect(()=>{_()},[]);const _=()=>{const t={clientId:w.getvalue("clientId")};F($.postWithData("admin","recruiter/creditDetails",t).then(r=>{r.data.Success?(c(r.data.recruiterCreditDetails),W(r.data.recruiterCreditDetails)):S(r.data.Message?r.data.Message:"An error occurred while fetching credit details","error")}))},G=(t,r,l)=>{let i=d;const s=t.target.value;i=i.map(n=>({...n,[l]:n.recrId===r?parseInt(s)||"":n[l]})),c([...i])},J=t=>{const r=(t==null?void 0:t.length)>20?t.slice(0,20):t;return(t==null?void 0:t.length)>20?e.jsxDEV(Z,{title:t,children:e.jsxDEV("span",{children:[r,"..."]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:78,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:77,columnNumber:17},void 0):e.jsxDEV("span",{children:r},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:81,columnNumber:23},void 0)},ie=o.useMemo(()=>[{accessorKey:"name",header:"Name",Cell:({row:t})=>J(t.original.recrName)},{accessorKey:"email",header:"Email",Cell:({row:t})=>J(t.original.email)},{accessorKey:"emailUsed",header:"Email Used",Cell:({row:t})=>e.jsxDEV("span",{children:t.original.usedCreditCount},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:102,columnNumber:21},void 0),maxSize:60,size:50},{accessorKey:"phoneUsed",header:"Phone Used",Cell:({row:t})=>e.jsxDEV("span",{children:t.original.usedSmsCount},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:111,columnNumber:21},void 0),muiTableBodyCellProps:{sx:{width:"100px"}},size:50},{accessorKey:"emailAssigned",header:"Email Assigned",Cell:({row:t})=>{const r=t.getIsSelected();return e.jsxDEV("span",{children:e.jsxDEV(A,{fullWidth:!0,id:`creditCount-${t.original.recrId}`,name:`creditCount-${t.original.recrId}`,size:"small",type:"number",value:t.original.creditCount,slotProps:{input:{readOnly:["Unlimited","Equally"].includes(u)?!0:u==="Custom"?!r:!0}},onChange:l=>G(l,t.original.recrId,"creditCount"),sx:{width:"5em"}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:122,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:121,columnNumber:28},void 0)},maxSize:60,size:50},{accessorKey:"phoneAssigned",header:"Phone Assigned",Cell:({row:t})=>{const r=t.getIsSelected();return e.jsxDEV("span",{children:e.jsxDEV(A,{fullWidth:!0,id:`smsCount-${t.original.recrId}`,name:`smsCount-${t.original.recrId}`,size:"small",type:"number",value:t.original.smsCount,slotProps:{input:{readOnly:["Unlimited","Equally"].includes(f)?!0:f==="Custom"?!r:!0}},onChange:l=>G(l,t.original.recrId,"smsCount"),sx:{width:"5em"}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:148,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:147,columnNumber:28},void 0)},maxSize:60,size:50}],[u,f,d]),b=(t,r)=>{let l=E.find(i=>i.recrId===r)||null;return l&&l[t==="EMAIL"?"creditCount":"smsCount"]||0},re=t=>{var l;const r=t.target.value;if(q(r),["Unlimited","Equally"].includes(r)){let i=d;if((l=Object.keys(y))!=null&&l.length){const s=Object.entries(y).filter(([n,m])=>m).map(([n])=>parseInt(n));c(n=>n.map(m=>({...m,creditCount:s.includes(m.recrId)?r==="Unlimited"?-1:r==="Equally"?p||0:b("EMAIL",m.recrId):b("EMAIL",m.recrId)})))}else{const s=i.reduce((n,m)=>(n[m.recrId]=!0,n),{});C(n=>({...n,...s})),c(n=>n.map((m,ce)=>({...m,creditCount:r==="Unlimited"?-1:r==="Equally"?p||0:b("EMAIL",m.recrId)})))}x(!0)}else["Unlimited","Equally"].includes(f)||(C({}),x(!1)),c(i=>i.map(s=>({...s,creditCount:b("EMAIL",s.recrId)})))},se=t=>{var l;const r=t.target.value;if(v(r),["Unlimited","Equally"].includes(r)){let i=d;if((l=Object.keys(y))!=null&&l.length){const s=Object.entries(y).filter(([n,m])=>m).map(([n])=>parseInt(n));c(n=>n.map(m=>({...m,smsCount:s.includes(m.recrId)?r==="Unlimited"?-1:r==="Equally"?N||0:b("PHONE",m.recrId):b("PHONE",m.recrId)})))}else{const s=i.reduce((n,m)=>(n[m.recrId]=!0,n),{});C(n=>({...n,...s})),c(n=>n.map((m,ce)=>({...m,smsCount:r==="Unlimited"?-1:r==="Equally"?N||0:b("PHONE",m.recrId)})))}x(!0)}else["Unlimited","Equally"].includes(u)||(C({}),x(!1)),c(i=>i.map(s=>({...s,smsCount:b("PHONE",s.recrId)})))},ae=t=>{const r=t.target.value;I(r);const l=Object.entries(y).filter(([i,s])=>s).map(([i])=>parseInt(i));u==="Equally"&&c(i=>i.map(s=>({...s,creditCount:l.includes(s.recrId)?parseInt(r)||0:s.creditCount})))},le=t=>{const r=t.target.value;j(r);const l=Object.entries(y).filter(([i,s])=>s).map(([i])=>parseInt(i));f==="Equally"&&c(i=>i.map(s=>({...s,smsCount:l.includes(s.recrId)?parseInt(r)||0:s.smsCount})))},ne=async()=>{const t=Object.entries(y).filter(([i,s])=>s).map(([i])=>parseInt(i));if(u==="Custom"&&f==="Custom"&&t.length===0)return S("Select recruiters to assign credits","error"),!1;if(u==="Equally"&&!p)return S("Enter email credit value","error"),!1;if(f==="Equally"&&!N)return S("Enter phone credit value","error"),!1;const r=d.filter(i=>t.includes(i.recrId)).map(i=>({recrId:i.recrId,creditCount:i.creditCount,smsCount:i.smsCount})),l={clientId:w.getvalue("clientId"),recrId:w.getvalue("recrId"),recruiterCreditDetails:r};try{F($.postWithData("admin","recruiter/creditsUpdate",l).then(i=>{i.data.Success?(S("Credits updated successfully!","success"),C({}),x(!1),q("Custom"),v("Custom"),I(""),j(""),D(""),_()):S(i.data.Message||"Failed to update credits","error")}))}catch(i){console.error("Error updating recruiter credits:",i),S("Something went wrong. Please try again.","error")}},oe=o.useMemo(()=>{var l;let t=((l=a==null?void 0:a.toLowerCase())==null?void 0:l.trim())||"";const r=d.filter(i=>i.recrName.toLowerCase().includes(t.toLowerCase()||"")||i.email.toLowerCase().includes(t.toLowerCase()||""));return L(r.length),r},[a,d]),me=()=>{c([...E]),C({}),q("Custom"),v("Custom"),I(""),j(""),D(""),x(!1),V({...h,pageIndex:0})};return e.jsxDEV("div",{id:"CreditLimit",children:[e.jsxDEV(z,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:"customCard pt-1 mb-2 mt-2",sx:{minHeight:"auto !important"},children:e.jsxDEV(g,{variant:"h6",className:"headerName",children:"Credit Assignment"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:449,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:441,columnNumber:13},void 0),e.jsxDEV(z,{container:!0,direction:"row",spacing:1,children:[e.jsxDEV(z,{size:T?9:12,children:e.jsxDEV(z,{container:!0,spacing:0,className:"customCard px-0 py-2 ",children:e.jsxDEV(z,{sx:{width:"calc(100%)"},children:e.jsxDEV("div",{className:"MRTableCustom pl-0 mt-1",children:[e.jsxDEV(O,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,className:"headerFormContainer",children:[e.jsxDEV(O,{direction:"row",alignItems:"center",spacing:0,children:[e.jsxDEV(A,{placeholder:"Search by name or email",size:"small",id:"Search",name:"Search",className:"creditSearchName mr-1",value:a,onChange:t=>{D(t.target.value)},slotProps:{input:{startAdornment:e.jsxDEV(pe,{fontSize:"small",htmlColor:"#757575"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:470,columnNumber:69},void 0),endAdornment:e.jsxDEV(Le,{position:"end",disablePointerEvents:!a,children:e.jsxDEV(xe,{fontSize:"small",htmlColor:a?"#757575":"#ebebeb",sx:{cursor:"pointer"},onClick:()=>D("")},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:472,columnNumber:57},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:471,columnNumber:67},void 0)}}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:460,columnNumber:41},void 0),e.jsxDEV(A,{sx:{width:"110px"},fullWidth:!0,label:"Assign Email Credits",name:"Assign-Email-Credits",id:"Assign-Email-Credits",size:"small",className:"mr-1",select:!0,placeholder:"Assign Email",value:u,onChange:re,children:[e.jsxDEV(M,{value:"Custom",children:"Custom"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:490,columnNumber:45},void 0),e.jsxDEV(M,{value:"Equally",children:"Equally"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:491,columnNumber:45},void 0),e.jsxDEV(M,{value:"Unlimited",children:"Unlimited"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:492,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:477,columnNumber:41},void 0),u==="Equally"&&e.jsxDEV(A,{size:"small",placeholder:"Email Credits",label:"Email Credits",id:"Email Credits",name:"Email Credits",className:"mr-1",value:p,onChange:ae,sx:{width:"100px"},type:"number",fullWidth:!0},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:496,columnNumber:45},void 0),e.jsxDEV(A,{sx:{width:"110px"},fullWidth:!0,className:"selHeight mr-1",label:"Assign Phone Credits ",name:"Assign-Phone-Credits",id:"Assign-Phone-Credits",size:"small",select:!0,placeholder:"Assign Phone   ",value:f,onChange:se,children:[e.jsxDEV(M,{value:"Custom",children:"Custom"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:523,columnNumber:45},void 0),e.jsxDEV(M,{value:"Equally",children:"Equally"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:524,columnNumber:45},void 0),e.jsxDEV(M,{value:"Unlimited",children:"Unlimited"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:525,columnNumber:45},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:510,columnNumber:41},void 0),f==="Equally"&&e.jsxDEV(A,{size:"small",placeholder:"Phone Credit Value",id:"Phone Credit Value",name:"Phone Credit Value",label:"Enter Phone Credit Value",className:"mr-1",value:N,onChange:le,sx:{width:"100px"},type:"number",fullWidth:!0},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:529,columnNumber:45},void 0),e.jsxDEV(U,{variant:"contained",color:"primary",className:"mr-1",onClick:ne,children:"Save"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:543,columnNumber:41},void 0),e.jsxDEV(U,{variant:"outlined",color:"secondary",sx:{textTransform:"none",height:"26px"},onClick:me,children:"Clear"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:551,columnNumber:41},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:459,columnNumber:37},void 0),e.jsxDEV(Z,{title:"Toggle Stats",children:e.jsxDEV(ye,{size:"small",onClick:()=>te(t=>!t),children:e.jsxDEV(Ee,{className:`${T?"":"statsIconFlip"}`},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:561,columnNumber:114},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:561,columnNumber:41},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:560,columnNumber:37},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:458,columnNumber:33},void 0),e.jsxDEV(he,{columns:ie,data:oe,enableTopToolbar:!1,enableStickyHeader:!0,enableRowSelection:!0,initialState:{columnPinning:{left:["mrt-row-select","name"]},density:"compact",showGlobalFilter:!0},enableDensityToggle:!1,enableFullScreenToggle:!1,enableGlobalFilterModes:!0,columnResizeMode:"onChange",enablePagination:!0,state:{pagination:h,globalFilter:R,rowSelection:y},muiTableProps:{sx:{"& td, & th":{padding:{xs:"4px",sm:"8px"}}}},muiPaginationProps:{rowsPerPageOptions:[20],showLastButton:!1,SelectProps:{style:{display:"none"}}},renderBottomToolbarCustomActions:()=>e.jsxDEV(Se,{page:h.pageIndex,rowsPerPage:h.pageSize,rowCount:B,onChangePage:t=>V({...h,pageIndex:t,pageSize:h.pageSize})},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:598,columnNumber:41},void 0),onGlobalFilterChange:H,getRowId:t=>t.recrId,onRowSelectionChange:t=>{const r=t(y),l=Object.entries(r).filter(([i,s])=>s).map(([i])=>parseInt(i));c(i=>i.map(s=>({...s,creditCount:l.includes(s.recrId)?u==="Unlimited"?-1:u==="Equally"?p||0:b("EMAIL",s.recrId):b("EMAIL",s.recrId),smsCount:l.includes(s.recrId)?f==="Unlimited"?-1:f==="Equally"?N||0:b("PHONE",s.recrId):b("PHONE",s.recrId)}))),C({...r})},enableSelectAll:!0,muiSelectCheckboxProps:({row:t})=>({onChange:r=>{let l=d;if(t.id){let i={...y},s=d.findIndex(n=>n.recrId===t.id);r.target.checked?(l[s].creditCount=u==="Unlimited"?-1:u==="Custom"?b("EMAIL",l[s].recrId):p||0,l[s].smsCount=f==="Unlimited"?-1:f==="Custom"?b("PHONE",l[s].recrId):N||0,i[t.id]=r.target.checked):(i.hasOwnProperty(t.id)&&delete i[t.id],l[s].creditCount=b("EMAIL",l[s].recrId),l[s].smsCount=b("PHONE",l[s].recrId)),c([...l]),C(i)}}}),muiSelectAllCheckboxProps:{onChange:(t,r)=>{if(r){const l=d.reduce((i,s)=>(i[s.recrId]=!0,i),{});C(l)}else C({});x(r)},checked:k}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:564,columnNumber:33},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:457,columnNumber:29},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:456,columnNumber:25},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:455,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:454,columnNumber:17},void 0),e.jsxDEV(z,{size:T?3:0,className:`${T?"":"d-none"}`,children:e.jsxDEV(je,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:685,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:684,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:453,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/CreditLimit/CreditLimit.tsx",lineNumber:440,columnNumber:9},void 0)};export{ut as default};
