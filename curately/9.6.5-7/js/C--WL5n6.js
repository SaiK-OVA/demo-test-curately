import{r as g,k as c}from"./DAuuuMsE.js";import{H as F,E as N,e as p,J as C,D as w,K as k,M as T,C as E,f as _,d as b,h as f,I as y,L as R,g as x}from"./BktpiT-y.js";import{a as l}from"./D8xWqXbL.js";import{A as D}from"./Bw2Rwgey.js";import{B as A}from"./O4whC5ku.js";class m extends F{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),this.isDirty("radius")&&(this._clear=!0)}_changed(){super._changed(),this._clear&&this._display.drawCircle(0,0,Math.abs(this.get("radius",10)))}}Object.defineProperty(m,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Circle"});Object.defineProperty(m,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:F.classNames.concat([m.className])});class j extends N{constructor(){super(...arguments),Object.defineProperty(this,"_checkDates",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkNumbers",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkColors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkEmpty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_checkDeep",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._checkFeatures(),this.on("dateFields",()=>this._checkFeatures()),this.on("dateFormat",()=>this._checkFeatures()),this.on("numericFields",()=>this._checkFeatures()),this.on("colorFields",()=>this._checkFeatures()),this.on("emptyAs",()=>this._checkFeatures())}_checkFeatures(){(this.isDirty("dateFields")||this.isDirty("dateFormat"))&&(this._checkDates=this.get("dateFields")&&this.get("dateFields").length>0),this.isDirty("numericFields")&&(this._checkNumbers=this.get("numericFields")&&this.get("numericFields").length>0),this.isDirty("colorFields")&&(this._checkColors=this.get("colorFields")&&this.get("colorFields").length>0),this.isDirty("emptyAs")&&(this._checkEmpty=this.get("emptyAs")!=null),this._checkDeepFeatures()}_checkDeepFeatures(){const e=[];p(["dateFields","numericFields","colorFields"],r=>{p(this.get(r,[]),i=>{const t=i.split(".");for(t.pop();t.length>0;)e.push(t.join(".")),t.pop()})}),this._checkDeep=e.length>0,this.setPrivate("deepFields",e)}processMany(e){C(e)&&(this._checkDates||this._checkNumbers||this._checkColors||this._checkEmpty)&&p(e,r=>{this.processRow(r)})}processRow(e,r=""){w(e,(i,t)=>{const a=r+i;this._checkEmpty&&(e[i]=this._maybeToEmpty(e[i])),this._checkNumbers&&(e[i]=this._maybeToNumber(a,e[i])),this._checkDates&&(e[i]=this._maybeToDate(a,e[i])),this._checkColors&&(e[i]=this._maybeToColor(a,e[i])),this._checkDeep&&this.getPrivate("deepFields",[]).indexOf(a)!==-1&&k(e[i])&&this.processRow(e[i],a+".")})}_maybeToNumber(e,r){return this.get("numericFields").indexOf(e)!==-1?T(r):r}_maybeToDate(e,r){return this.get("dateFields").indexOf(e)!==-1?this._root.dateFormatter.parse(r,this.get("dateFormat","")).getTime():r}_maybeToEmpty(e){return(e==null||e=="")&&this.get("emptyAs")!=null?this.get("emptyAs"):e}_maybeToColor(e,r){return this.get("colorFields").indexOf(e)!==-1?E.fromAny(r):r}}const Y=({id:o,data:e,name:r,dateformat:i,height:t,width:a})=>(g.useLayoutEffect(()=>{let s=_({id:o});s.setThemes([D.new(s)]),s.dateFormatter.setAll({dateFormat:i,dateFields:["valueX"]});let u=s.container.children.push(l.XYChart.new(s,{focusable:!0,paddingLeft:0})),d=u.xAxes.push(l.DateAxis.new(s,{maxDeviation:.5,groupData:!1,baseInterval:{timeUnit:"day",count:1},renderer:l.AxisRendererX.new(s,{minGridDistance:70,minorGridEnabled:!0}),tooltip:b.new(s,{})})),h=u.yAxes.push(l.ValueAxis.new(s,{maxDeviation:1,renderer:l.AxisRendererY.new(s,{})})),n=u.series.push(l.LineSeries.new(s,{minBulletDistance:10,xAxis:d,yAxis:h,valueYField:"value",valueXField:"date",tooltip:b.new(s,{pointerOrientation:"horizontal",labelText:"{valueY}"})}));return n.data.processor=j.new(s,{dateFormat:i,dateFields:["date"]}),n.data.setAll(e),n.bullets.push(function(){let v=m.new(s,{radius:4,fill:n.get("fill"),stroke:s.interfaceColors.get("background"),strokeWidth:2});return A.new(s,{sprite:v})}),()=>{s.dispose()}},[o,e]),c.jsxDEV("div",{id:o,style:{height:t||"240px",width:a||"100%"},children:r&&c.jsxDEV("p",{className:"fs-14",children:c.jsxDEV("strong",{children:r},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Reports/Charts/Demo/TrendLines/TrendLines.tsx",lineNumber:158,columnNumber:37},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Reports/Charts/Demo/TrendLines/TrendLines.tsx",lineNumber:158,columnNumber:16},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Reports/Charts/Demo/TrendLines/TrendLines.tsx",lineNumber:154,columnNumber:5},void 0)),G=({id:o,chartDataPassed:e,name:r,size:i})=>(g.useLayoutEffect(()=>{let t=_({id:o});t.setThemes([D.new(t)]);let a=t.container.children.push(l.XYChart.new(t,{paddingLeft:0,layout:t.verticalLayout})),s=l.AxisRendererY.new(t,{visible:!1,minGridDistance:20,inversed:!0,minorGridEnabled:!0});s.grid.template.set("visible",!1);let u=a.yAxes.push(l.CategoryAxis.new(t,{maxDeviation:0,renderer:s,categoryField:e.yAxisCategoryField})),d=l.AxisRendererX.new(t,{visible:!1,minGridDistance:50,opposite:!0,minorGridEnabled:!0});d.grid.template.set("visible",!1);let h=a.xAxes.push(l.CategoryAxis.new(t,{renderer:d,categoryField:e.xAxisCategoryField})),n=a.series.push(l.ColumnSeries.new(t,{calculateAggregates:!0,stroke:f(e.seriesStrokeColor),clustered:!1,xAxis:h,yAxis:u,categoryXField:e.xAxisCategoryField,categoryYField:e.yAxisCategoryField,valueField:"value"}));return n.columns.template.setAll({tooltipText:"{value}",strokeOpacity:1,strokeWidth:2,width:y(100),height:y(100)}),n.bullets.push(function(){return A.new(t,{sprite:R.new(t,{text:"{value}",centerY:x,centerX:x,populateText:!0})})}),n.set("heatRules",[{target:n.columns.template,min:f(e.seriesRulesMin),max:f(e.seriesRulesMax),dataField:"value",key:"fill"}]),n.data.setAll(e.displayData),u.data.setAll(e.yAxisData),h.data.setAll(e.xAxisData),()=>{t.dispose()}},[]),c.jsxDEV("div",{id:o,style:i,children:c.jsxDEV("p",{className:"fs-14",children:c.jsxDEV("strong",{children:r},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Reports/Charts/Demo/HeatMap/HeatMap.tsx",lineNumber:175,columnNumber:28},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Reports/Charts/Demo/HeatMap/HeatMap.tsx",lineNumber:175,columnNumber:7},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Reports/Charts/Demo/HeatMap/HeatMap.tsx",lineNumber:173,columnNumber:6},void 0));export{m as C,j as D,G as H,Y as T};
