import{r as a,L as c,k as e,D as X,I as A,n as Y,o as Z,S as h,U as _,B as C,A as b,V as l,W as O,O as j,T as ee,b1 as te}from"./DAuuuMsE.js";import{E as ne}from"./BZPAOVTJ.js";import{D as ae}from"./DOjwGLM0.js";import{D as oe}from"./Cg41riQw.js";import{S as ie}from"./68QKccnG.js";import{M as se}from"./Ez4yizbq.js";import{u as re}from"./D1ftmOk2.js";import{c as le,a as f}from"./DwmmMyHW.js";import{D as ce}from"./Br0xRRVu.js";import{T}from"./BestnZaX.js";import{C as de}from"./B7IUApoB.js";import{d as ue}from"./w5-nO31Y.js";import{T as L}from"./DbsmdDnd.js";import"./OPHguh9D.js";import"./DistCVVm.js";import"./BqtMM88J.js";import"./IOI02mfF.js";import"./ZuCM0PYB.js";import"./CGk11wqi.js";import"./D2Y9uqkR.js";import"./DVyrZ3Lu.js";import"./DPDHQPP4.js";import"./zQ0bN4E_.js";import"./CDmetmmn.js";import"./C4JXEfII.js";import"./Dsukr_f2.js";import"./1Bak8biM.js";import"./B7U4EVWr.js";import"./C_IKUwSv.js";import"./JyAhcbJl.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";const me=({open:D,handleClose:m,add:d,optionData:n})=>{const[w,y]=a.useState(!1),x=n?{optionBankName:n.optionBankName||"",list:(n==null?void 0:n.options)||"",optionBankId:(n==null?void 0:n.optionBankId)||"",createdby:(n==null?void 0:n.createdby)||"",clientId:c.getvalue("clientId")}:{optionBankName:"",list:"",createdby:c.getvalue("recrId"),optionBankId:"",clientId:c.getvalue("clientId")},S=le().shape({optionBankName:f().required("Option name is required"),list:f().required("Option list is required"),optionBankId:f(),createdby:f(),clientId:f()}),s=re({initialValues:x,validationSchema:S,onSubmit:()=>{y(!0)},validateOnMount:!0}),k=()=>{if(s.values.optionBankName.trim()==="")return l("Please Enter Option Bank Name","error"),!1;if(s.values.list.trim()==="")return l("Please enter Option List","error"),!1;y(!0),s.isValid?O(b.postWithData("admin","saveOptionBank",{...s.values}).then(i=>{i.data.Success?(l(i.data.Message,"success"),s.resetForm(),m(!0)):l(i.data.Message?i.data.Message:"An error occured while saving the Option Bank.","error")})):l("Please fill all required fields.","error")},v=i=>{b.saveAuditLog(i)};return e.jsxDEV(X,{open:D,onClose:()=>m(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsxDEV(ce,{children:[" ",d?"Add":"Update"," Option"]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV(A,{"aria-label":"close",onClick:()=>m(!1),sx:{position:"absolute",right:8,top:8,color:i=>i.palette.grey[500]},children:e.jsxDEV(Y,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:127,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:117,columnNumber:13},void 0),e.jsxDEV(Z,{children:e.jsxDEV("form",{children:e.jsxDEV(h,{spacing:2,children:[e.jsxDEV(T,{autoFocus:!0,id:"OptionBankName",label:"Option Name",size:"small",type:"text",fullWidth:!0,variant:"outlined",value:s.values.optionBankName,onChange:i=>{s.setFieldValue("optionBankName",i.target.value)}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:133,columnNumber:25},void 0),e.jsxDEV(T,{id:"options",label:"Options (Write each option in separate line)",multiline:!0,rows:4,fullWidth:!0,variant:"outlined",value:s.values.list,onChange:i=>{const p=i.target.value.split(",");s.setFieldValue("list",p.toString())}},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:149,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:132,columnNumber:21},void 0)},n==null?void 0:n.optionBankId,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:131,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV(_,{children:[e.jsxDEV(C,{variant:"outlined",type:"button",color:"secondary",className:"mr-2",onClick:()=>m(!1),children:"Cancel"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:167,columnNumber:17},void 0),e.jsxDEV(C,{variant:"contained",type:"button",color:"primary",onClick:()=>{v(4269),k()},children:[d?"Save":"Update"," Option"]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:173,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:166,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/AddOptionBank.tsx",lineNumber:115,columnNumber:9},void 0)},Ge=()=>{const D=c.checkSettings(130004)===5||c.checkSettings(130004)===6,m=c.checkSettings(130004)===6;let d=c.getvalue("clientId");const[n,w]=a.useState([]),[y]=a.useState(!1),[x,S]=a.useState([{desc:!0,id:"createddate"}]),[s,k]=a.useState({optionBankId:"",optionBankName:"",options:"",createdby:"",clientId:""}),[v,i]=a.useState({}),[p,E]=a.useState(!1),[z,M]=a.useState(!1),[I,V]=a.useState({pageIndex:0,pageSize:10}),[R,W]=a.useState(0),[P,$]=a.useState(""),U=t=>new Promise((o,B)=>{O(b.getCall("admin",`getOptionBankListbyId/${t}/${d}`).then(r=>{if(r.data.list&&r.data.list[0].optionbankId){const u=r.data.list[0];k({optionBankId:u.optionbankId,optionBankName:u.optionbankname,options:u.list,createdby:u.createdby,clientId:c.getvalue("clientId")})}M(!0),o(r)}).catch(r=>{console.error("Error fetching User details:",r),B(r)}))});a.useEffect(()=>{V(t=>({...t,pageIndex:0}))},[P]);const q=t=>{U(t).then(()=>{E(!0),N(4270)}).catch(o=>{l("Unable to fetch User Data",o)})},G=()=>{k({optionBankId:"",optionBankName:"",options:"",createdby:"",clientId:""}),E(!0),M(!1)},K=t=>{E(!1),t&&g()},g=a.useCallback(ue(()=>{O(b.getCall("admin",`getOptionBankList/${d}`).then(t=>{w(t.data.list),W(t.data.list.length)}))},400),[d]);a.useEffect(()=>{p||g()},[p,g]);const H=(t,o)=>{te(`Are you sure you want to delete ${o} OptionBank?`,()=>{J(t),N(4271)})},J=t=>{O(b.deleteById("admin",`deleteOptionBank/${t}`,d).then(o=>{o.data.Success?(l("OptionBank has been deleted successfully.","success"),g()):l(o.data.Message?o.data.Message:"An error occured while deleting","error")}).catch(o=>{var B,r,u,F;l((r=(B=o.response)==null?void 0:B.data)!=null&&r.Message?(F=(u=o.response)==null?void 0:u.data)==null?void 0:F.Message:"An error occured while deleting","error")}))},Q=a.useMemo(()=>[{accessorKey:"optionbankname",header:"Name",enableColumnPinning:!0,size:350},{accessorKey:"list",header:"Options",Cell:({renderedCellValue:t})=>Array.isArray(t)?t.join(", "):t,size:350},{accessorKey:"createddate",header:"Created On",Cell:({renderedCellValue:t,row:o})=>e.jsxDEV("span",{children:o.original.createddate?oe.fromFormat(o.original.createddate.substring(0,19),"yyyy-MM-dd hh:mm:ss").toFormat("MM/dd/yyyy"):""},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:239,columnNumber:11},void 0),size:350},{accessorKey:"Actions",header:"Actions",enableSorting:!1,Cell:({row:t})=>e.jsxDEV(h,{children:e.jsxDEV(h,{direction:"row",children:[D?e.jsxDEV(L,{title:"Edit",placement:"top",color:"primary",children:e.jsxDEV(A,{onClick:()=>{q(t.original.optionbankId)},children:e.jsxDEV(ne,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:261,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:260,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:259,columnNumber:19},void 0):null,m?e.jsxDEV(L,{title:"Delete",placement:"top",color:"primary",children:e.jsxDEV(A,{onClick:()=>{H(t.original.optionbankId,t.original.optionbankname)},children:e.jsxDEV(ae,{},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:271,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:270,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:269,columnNumber:19},void 0):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:256,columnNumber:13},void 0)},t.original.optionbankId,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:255,columnNumber:11},void 0),size:350}],[]),N=t=>{b.saveAuditLog(t)};return a.useEffect(()=>{N(4267)},[]),e.jsxDEV("div",{className:"emailTemplateList pt-3 px-5",id:"optionBankList",children:[e.jsxDEV(j,{container:!0,direction:"row",className:"customCard px-4 py-2",justifyContent:"space-between",alignItems:"center",display:"flex",sx:{minHeight:"auto !important"},children:[e.jsxDEV(ee,{variant:"h6",className:"headerName",children:"OptionBanks"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:305,columnNumber:9},void 0),e.jsxDEV(h,{direction:"row",className:"btn-container",children:e.jsxDEV(C,{variant:"contained",color:"primary",size:"small",onClick:()=>{N(4268),G()},children:"New OptionBank"},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:309,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:308,columnNumber:9},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:296,columnNumber:7},void 0),e.jsxDEV(j,{container:!0,className:"customCard p-0 filterExpand-grid",children:[e.jsxDEV(j,{sx:{width:y?"calc(100%)":"calc(100% - 0px)"},children:e.jsxDEV("div",{className:"MRTableCustom  pl-0 ",children:e.jsxDEV(se,{columns:Q,data:n,onRowSelectionChange:i,state:{rowSelection:v,sorting:x,pagination:I,globalFilter:P},enablePinning:!0,enableStickyHeader:!0,initialState:{columnPinning:{left:["mrt-row-select","optionbankname"]},density:"compact",showGlobalFilter:!0},onSortingChange:S,enableDensityToggle:!1,enableFullScreenToggle:!0,enableGlobalFilterModes:!0,columnResizeMode:"onChange",onPaginationChange:V,getRowId:t=>t.optionbankId,icons:{ArrowDownwardIcon:t=>e.jsxDEV(ie,{...t},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:340,columnNumber:61},void 0)},rowCount:n.length,muiPaginationProps:{rowsPerPageOptions:[10],showFirstButton:!1,showLastButton:!1,SelectProps:{style:{display:"none"}}},enablePagination:!0,renderBottomToolbarCustomActions:()=>e.jsxDEV(de,{page:I.pageIndex,rowsPerPage:10,rowCount:R,onChangePage:t=>V({...I,pageIndex:t,pageSize:10}),showCount:!1},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:353,columnNumber:17},void 0),onGlobalFilterChange:$},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:316,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:314,columnNumber:11},void 0)},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:313,columnNumber:9},void 0),p?e.jsxDEV(me,{open:p,handleClose:K,optionData:s,add:!z},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:368,columnNumber:13},void 0):null]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:312,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Settings/OptionBank/OptionBank.tsx",lineNumber:295,columnNumber:5},void 0)};export{Ge as default};
