import{Y as x,r as l,al as I,cl as B,k as c,L as a,A as d,V as f}from"./DAuuuMsE.js";import{F as L}from"./CwstXCiT.js";import"./P4ZLrbCZ.js";import"./DL7gvjiQ.js";import"./BuWEhdgP.js";import"./DwmmMyHW.js";import"./ef7hfbYP.js";import"./CkvATnPE.js";import"./_sSW2cUy.js";import"./Cdc3Hay6.js";import"./Cg41riQw.js";import"./BZPAOVTJ.js";import"./BestnZaX.js";import"./w5-nO31Y.js";import"./OPHguh9D.js";import"./DistCVVm.js";import"./BqtMM88J.js";import"./IOI02mfF.js";import"./DbsmdDnd.js";import"./CX3ETe29.js";import"./tW4e0zz_.js";import"./Dsukr_f2.js";import"./DIH5mOrc.js";import"./D7NzemaK.js";import"./DA-mmMmo.js";import"./XBS2c42B.js";import"./ZuCM0PYB.js";import"./Cla6FLE6.js";import"./C148XJoK.js";import"./1RB4_3m-.js";import"./9WUULBRn.js";import"./BayHs3N0.js";import"./1Bak8biM.js";import"./CyNs35Qt.js";import"./Br0xRRVu.js";import"./7BYfJRlb.js";import"./D1ftmOk2.js";import"./C_IKUwSv.js";import"./CPvg8iC8.js";import"./BNPlfvDS.js";import"./DwyJjTQZ.js";import"./DoU9_ygh.js";import"./zQ0bN4E_.js";import"./Er6wiTnZ.js";import"./D2Y9uqkR.js";import"./7FOaSWX5.js";import"./rYcqsWUw.js";import"./Bgs2xNBT.js";import"./rzLa6I96.js";import"./DVyrZ3Lu.js";import"./Be5gBLwa.js";import"./CVMnKGVd.js";import"./C2haB5WN.js";import"./DKIh428S.js";import"./D9g3XlR8.js";const St=()=>{const n=x(),[D,v]=l.useState(""),{formId:t}=I(),[h,p]=l.useState(!1),[w,F]=l.useContext(B),g=async(m,s)=>{let o=m.map((r,i)=>({...r,isActive:i===0})),e={action:"save",form_name:s,json:{components:o,curately:!0},userid:a.getvalue("recrId"),webFormDesc:"",webformThankContent:"",clientId:a.getvalue("clientId")};e.aliasName=e.form_name.charAt(0),e.form_name=s,t&&(e.form_id=t),d.postWithData("admin","sequenceFormBuilder",e).then(r=>{r.data.Success?(f(t?"Your form has been updated successfully":"Your form has been saved successfully","success"),n(`/${a.getvalue("clientName")}/letter/forms/list`),N(4189)):f(r.data.Message,"error")}).catch(r=>{console.error("Error:",r)})};l.useEffect(()=>{t?(async()=>{let s={action:"get",form_id:t,userid:a.getvalue("recrId"),clientId:a.getvalue("clientId")};d.postWithData("admin","sequenceFormBuilder",s).then(o=>{var u;let e=(u=o.data)==null?void 0:u.form_name;v(e);let i=o.data.json.components.map((y,b)=>({...y,isActive:b===0}));F(i),p(!0)}).catch(o=>{console.error("Error:",o),p(!0)})})():p(!0)},[t]);const N=m=>{d.saveAuditLog(m)},A=()=>{n(`/${a.getvalue("clientName")}/letter/forms/list`)};return c.jsxDEV(c.Fragment,{children:h?c.jsxDEV(L,{callParentSave:g,cancelClicked:A,formIdPassed:t||"",formNamePassed:D,isFormBuilder:!0,showSave:!0,showCancel:!0},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/FormBuilder/Add/AddFormBuilder.tsx",lineNumber:125,columnNumber:17},void 0):null},void 0,!1,{fileName:"D:/demo-test-curately/curately-9.6.5/curately-9.6.5/src/components/Dashboard/Letters/Workflow/FormBuilder/Add/AddFormBuilder.tsx",lineNumber:123,columnNumber:9},void 0)};export{St as default};
